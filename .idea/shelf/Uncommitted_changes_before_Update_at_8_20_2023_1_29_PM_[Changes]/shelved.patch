Index: src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\r\n<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\r\n<html>\r\n<head>\r\n    <title>${title}</title>\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/list_open_course_style.css\" rel=\"stylesheet\">\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        h1{\r\n            font-family: 'Prompt', sans-serif;\r\n            font-weight: 700 !important;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<div align=\"center\">\r\n    <h1>${title}</h1>\r\n    <table class=\"container\">\r\n        <tr align=\"center\">\r\n            <td class=\"lec_detail\" align=\"left\">\r\n                <div class=\"list_course_detail\">\r\n                    <h1>รายการการร้องขอ</h1>\r\n                </div>\r\n            </td>\r\n            <td class=\"list_course\" align=\"left\">\r\n                <div class=\"list_course_detail\" align=\"center\">\r\n                    <h1 align=\"left\">รายการการร้องขอ</h1>\r\n                    <div class=\"hr_line\"></div>\r\n                    <button id=\"FClick\" class=\"tablinks\" onclick=\"openList(event, 'course')\">หลักสูตร</button>\r\n                    <button class=\"tablinks\" onclick=\"window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/add_roc'; return false;\"class=\"add-button\">ร้องขอ</button>\r\n                    <button class=\"tablinks\" onclick=\"openList(event, 'list_request')\">รายการร้องขอ</button>\r\n\r\n                </div>\r\n\r\n                <div id=\"course\" class=\"tabcontent\">\r\n                    <table class=\"table table-striped table-hover\">\r\n                        <tr style=\"color: black\">\r\n                            <td class=\"td_request\">รายละเอียดหลักสูตร</td>\r\n                            <td class=\"td_certificate\" align=\"center\">ตัวอย่างเกียรติบัตร</td>\r\n                            <td class=\"td_edit\" align=\"center\">รายละเอียดคำร้อง</td>\r\n                            <td class=\"td_cancel\" align=\"center\">ยกเลิกการร้องขอ</td>\r\n                        </tr>\r\n\r\n                        <c:forEach var=\"request_course\" items=\"${requests_open_course}\">\r\n                            <c:if test=\"${request_course.requestStatus == 'ผ่าน'}\">\r\n                                <tr style=\"color: black\">\r\n                                    <td><p>${request_course.course.name}</p></td>\r\n                                    <td><p>ดูตัวอย่าง</p></td>\r\n                                    <td align=\"center\"><a href=\"${pageContext.request.contextPath}/lecturer/${lecturer_id}/view_approve_request_open_course/${request_course.request_id}\">ดูรายละเอียด</a></td>\r\n                                    <td align=\"center\">\r\n                                        <input type=\"button\" value=\"ผู้สมัคร\"\r\n                                               onclick=\"window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/${request_course.request_id}/list_member_to_approve'; return false;\"\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                            </c:if>\r\n                        </c:forEach>\r\n                    </table>\r\n                </div>\r\n\r\n                <div id=\"request\" class=\"tabcontent\">\r\n                    <h3>Paris</h3>\r\n                    <p>Paris is the capital of France.</p>\r\n                </div>\r\n\r\n                <div id=\"list_request\" class=\"tabcontent\">\r\n                    <table class=\"table table-striped table-hover\">\r\n                        <tr style=\"color: black\">\r\n                            <td class=\"td_request\">รายละเอียดการร้องขอ</td>\r\n                            <td class=\"td_edit\" align=\"center\">รายละเอียดคำร้อง</td>\r\n                            <td class=\"td_cancel\" align=\"center\">ยกเลิกการร้องขอ</td>\r\n                        </tr>\r\n\r\n                        <c:forEach var=\"request_course\" items=\"${requests_open_course}\">\r\n                            <c:if test=\"${request_course.requestStatus == 'รอดำเนินการ'}\">\r\n                                <tr style=\"color: black\">\r\n                                    <td><p>${request_course.course.name}</p></td>\r\n                                    <td align=\"center\"><a href=\"${pageContext.request.contextPath}/lecturer/${lecturer_id}/view_request_open_course/${request_course.request_id}\">ดูรายละเอียด</a></td>\r\n                                    <td align=\"center\">\r\n                                        <input type=\"button\" value=\"ยกเลิก\"\r\n                                               onclick=\"if((confirm('คุณแน่ใจหรือว่าต้องการลบการร้องขอนี้?'))) { window.location.href='${pageContext.request.contextPath}/lecturer/${request_course.request_id}/delete'; return false; }\"\r\n                                               class=\"cancel-button\"/>\r\n                                    </td>\r\n                                </tr>\r\n                            </c:if>\r\n                        </c:forEach>\r\n                    </table>\r\n                </div>\r\n\r\n            </td>\r\n        </tr>\r\n\r\n    </table>\r\n\r\n</div>\r\n</body>\r\n\r\n<script>\r\n    window.addEventListener('DOMContentLoaded', (event) => {\r\n        var button = document.getElementById('FClick');\r\n        button.click()\r\n    });\r\n    function openList(evt, list_name) {\r\n        var i, tabcontent, tablinks;\r\n        tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n        for (i = 0; i < tabcontent.length; i++) {\r\n            tabcontent[i].style.display = \"none\";\r\n        }\r\n        tablinks = document.getElementsByClassName(\"tablinks\");\r\n        for (i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n        }\r\n        document.getElementById(list_name).style.display = \"block\";\r\n        evt.currentTarget.className += \" active\";\r\n    }\r\n</script>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp b/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp
--- a/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp	(revision a2cc2b8149400ce376f0372127d234ff593636d1)
+++ b/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp	(date 1692460080099)
@@ -79,7 +79,7 @@
                                     <td align="center"><a href="${pageContext.request.contextPath}/lecturer/${lecturer_id}/view_request_open_course/${request_course.request_id}">ดูรายละเอียด</a></td>
                                     <td align="center">
                                         <input type="button" value="ยกเลิก"
-                                               onclick="if((confirm('คุณแน่ใจหรือว่าต้องการลบการร้องขอนี้?'))) { window.location.href='${pageContext.request.contextPath}/lecturer/${request_course.request_id}/delete'; return false; }"
+                                               onclick="if((confirm('คุณแน่ใจหรือว่าต้องการลบการร้องขอนี้?'))) { window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/${request_course.request_id}/delete_request_open_course'; return false; }"
                                                class="cancel-button"/>
                                     </td>
                                 </tr>
Index: src/main/java/lifelong/controller/CourseController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.controller;\r\n\r\nimport lifelong.model.*;\r\nimport lifelong.service.*;\r\nimport org.apache.commons.fileupload.servlet.ServletFileUpload;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.io.*;\r\nimport java.net.URL;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport utils.ImgPath;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\n@Controller\r\n@RequestMapping(\"/course\")\r\npublic class CourseController {\r\n    private String title = \"หลักสูตร\";\r\n\r\n    @Autowired\r\n    private CourseService courseService;\r\n    @Autowired\r\n    private MajorService majorService;\r\n    @Autowired\r\n    private RequestOpCourseService requestOpCourseService;\r\n\r\n    @Autowired\r\n    private ActivityService activityService;\r\n    @Autowired\r\n    private RegisterService registerService;\r\n\r\n    @Autowired\r\n    private PaymentService paymentService;\r\n//    @Autowired\r\n//    private RequestOpenCourseService requestOpenCourseService;\r\n\r\n//    @GetMapping(\"/\")\r\n//    public String listCourse(Model model) {\r\n//        model.addAttribute(\"title\", \"รายการ\" + title);\r\n//        model.addAttribute(\"courses\", courseService.getCourses());\r\n//        return \"home\";\r\n//    }\r\n\r\n    @GetMapping(\"/list_all_course\")\r\n    public String listAllCourse(Model model) {\r\n        model.addAttribute(\"title\", \"รายการ\" + title);\r\n        model.addAttribute(\"courses\", courseService.getCourses());\r\n        model.addAttribute(\"requests_open_course\", requestOpCourseService.getRequestOpenCourses());\r\n        model.addAttribute(\"list_activities\", activityService.getPublicActivity());\r\n        return \"admin/listAllCourse\";\r\n    }\r\n\r\n    //    @GetMapping(\"/list_request_open_course\")\r\n//    public String listRequestCourse(Model model) {\r\n//        model.addAttribute(\"title\", \"รายการ\");\r\n//        model.addAttribute(\"requests_open_course\", requestOpCourseService.getRequestOpenCourses());\r\n//        return \"admin/listAllCourse\";\r\n//    }\r\n    @GetMapping(\"/view_request_open_course/{request_id}\")\r\n    public String showRequestOpenCourse(@PathVariable(\"request_id\") long request_id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);\r\n        model.addAttribute(\"title\", \"ดูข้อมูลการร้องขอ\");\r\n        model.addAttribute(\"ROC_detail\", requestOpenCourse);\r\n        return \"admin/view_request_open_course_by_admin\";\r\n    }\r\n\r\n    @PostMapping(path = \"/view_request_open_course/{request_id}/approve\")\r\n    public String approveRequestOpenCourse(@PathVariable(\"request_id\") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        if (existingRequestOpenCourse != null) {\r\n            existingRequestOpenCourse.setRequestStatus(\"ผ่าน\");\r\n            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);\r\n        }\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n\r\n    @GetMapping(\"/note_cancel_request_open_course/{request_id}\")\r\n    public String noteCancelRequestOpenCourse(@PathVariable(\"request_id\") long request_id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);\r\n        model.addAttribute(\"ROC_detail\", requestOpenCourse);\r\n        return \"admin/note_not_pass_detail\";\r\n    }\r\n\r\n    @PostMapping(path = \"/note_cancel_request_open_course/{request_id}/cancel\")\r\n    public String cancelRequestOpenCourse(@PathVariable(\"request_id\") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        if (existingRequestOpenCourse != null) {\r\n            existingRequestOpenCourse.setRequestStatus(\"ไม่ผ่าน\");\r\n            existingRequestOpenCourse.setNote(allReqParams.get(\"cancelReason\"));\r\n            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);\r\n        }\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n\r\n    @GetMapping(\"/{id}/course_detail\")\r\n    public String showCourseDetailByAdmin(@PathVariable(\"id\") String id, Model model) {\r\n        Course course = courseService.getCourseDetail(id);\r\n        model.addAttribute(\"title\", \"รายละเอียด\" + title);\r\n        model.addAttribute(\"course_detail\", course);\r\n        return \"admin/course_detail_by_admin\";\r\n    }\r\n\r\n    @GetMapping(\"/add_course\")\r\n    public String showFormAddCourse(Model model) {\r\n        model.addAttribute(\"title\", \"เพิ่ม\" + title);\r\n        model.addAttribute(\"majors\", majorService.getMajors());\r\n        model.addAttribute(\"add_course\", new Course());\r\n        return \"admin/addCourse\";\r\n    }\r\n\r\n    @GetMapping(\"/add_major\")\r\n    public String showFormAddMajor(Model model) {\r\n        model.addAttribute(\"title\", \"เพิ่ม\" + title);\r\n        model.addAttribute(\"add_major\", new Major());\r\n        return \"admin/addMajor\";\r\n    }\r\n\r\n    @PostMapping(path = \"/admin/save\")\r\n    public String saveAddCourse(@RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        String course_id = allReqParams.get(\"course_id\");\r\n        String course_name = allReqParams.get(\"course_name\");\r\n        String certificateName = allReqParams.get(\"certificateName\");\r\n        String course_img = allReqParams.get(\"course_img\");\r\n        String course_principle = allReqParams.get(\"course_principle\");\r\n        String course_object = allReqParams.get(\"course_object\");\r\n        int course_totalHours = Integer.parseInt(allReqParams.get(\"course_totalHours\"));\r\n        String course_targetOccupation = allReqParams.get(\"course_targetOccupation\");\r\n        double course_fee = Double.parseDouble(allReqParams.get(\"course_fee\"));\r\n        String course_file = allReqParams.get(\"course_file\");\r\n        String course_status = allReqParams.get(\"course_status\");\r\n        String course_linkMooc = allReqParams.get(\"course_linkMooc\");\r\n        String course_type = allReqParams.get(\"course_type\");\r\n        Major major = majorService.getMajorDetail(allReqParams.get(\"major_id\"));\r\n\r\n        Course course_add = new Course(course_id, course_name, certificateName, course_img, course_principle, course_object, course_totalHours,\r\n                course_targetOccupation, course_fee, course_file, course_status, course_linkMooc, course_type, major);\r\n        courseService.doAddCourse(course_add);\r\n        return \"redirect:/\";\r\n    }\r\n\r\n    @GetMapping(\"/{id}/edit_course\")\r\n    public String showEditCourse(@PathVariable(\"id\") String id, Model model) {\r\n        Course course = courseService.getCourseById(id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"majors\", majorService.getMajors());\r\n        model.addAttribute(\"course\", course);\r\n        return \"admin/editCourse\";\r\n    }\r\n\r\n    @PostMapping(path = \"/{id}/update_edit_course\")\r\n    public String updateCourse(@PathVariable(\"id\") String course_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        Course existingCourse = courseService.getCourseById(course_id);\r\n        if (existingCourse != null) {\r\n            existingCourse.setCourse_id(allReqParams.get(\"course_id\"));\r\n            existingCourse.setName(allReqParams.get(\"course_name\"));\r\n            existingCourse.setCertificateName(allReqParams.get(\"certificateName\"));\r\n            existingCourse.setImg(allReqParams.get(\"course_img\"));\r\n            existingCourse.setPrinciple(allReqParams.get(\"course_principle\"));\r\n            existingCourse.setObject(allReqParams.get(\"course_object\"));\r\n            existingCourse.setTotalHours(Integer.parseInt(allReqParams.get(\"course_totalHours\")));\r\n            existingCourse.setTargetOccupation(allReqParams.get(\"course_targetOccupation\"));\r\n            existingCourse.setFee(Double.parseDouble(allReqParams.get(\"course_fee\")));\r\n            existingCourse.setFile(allReqParams.get(\"course_file\"));\r\n            existingCourse.setStatus(allReqParams.get(\"course_status\"));\r\n            existingCourse.setLinkMooc(allReqParams.get(\"course_linkMooc\"));\r\n            existingCourse.setCourse_type(allReqParams.get(\"course_type\"));\r\n            existingCourse.setMajor(majorService.getMajorDetail(allReqParams.get(\"major_id\")));\r\n            courseService.updateCourse(existingCourse);\r\n        }\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n\r\n    @GetMapping(\"/view_approve_request_open_course/{id}\")\r\n    public String showRequestApproveOpenCourse(@PathVariable(\"id\") long id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"RAOC_detail\", requestOpenCourse);\r\n        return \"admin/view_Approve_request_open_course_by_admin\";\r\n    }\r\n\r\n    @GetMapping(\"/{roc_id}/list_member_to_course\")\r\n    public String showListMemberToRequestCourse(@PathVariable(\"roc_id\") long roc_id, Model model) {\r\n        List<Register> register = registerService.getRegisterByRequestId(roc_id);\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"register_detail\", register);\r\n        model.addAttribute(\"request_name\", requestOpenCourse);\r\n        return \"admin/list_Approve_member_to_course\";\r\n    }\r\n\r\n    @GetMapping(\"/{request_id}/view_payment_detail/{invoice_id}\")\r\n    public String showPaymentDetailToApprove(@PathVariable(\"request_id\") long request_id, @PathVariable(\"invoice_id\") long invoiceId, Model model) {\r\n        Receipt receipt = paymentService.getReceiptByInvoiceId(invoiceId);\r\n        model.addAttribute(\"payment\", receipt);\r\n        model.addAttribute(\"request_id\", request_id);\r\n        return \"admin/view_payment_detail\";\r\n    }\r\n\r\n    @PostMapping(path = \"/{request_id}/view_payment_detail/{invoice_id}/approve\")\r\n    public String approveMemberToCourse(@PathVariable(\"request_id\") long request_id, @PathVariable(\"invoice_id\") long invoice_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        Invoice invoice = paymentService.getInvoiceById(invoice_id);\r\n        if (invoice != null) {\r\n            invoice.setApprove_status(\"ผ่าน\");\r\n            paymentService.updateInvoice(invoice);\r\n        }\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n\r\n    @PostMapping(path = \"/{request_id}/update_Status_Member_Result/{register_id}\")\r\n    public String updateStatusMemberResult(\r\n            @PathVariable(\"request_id\") long request_id,\r\n            @PathVariable(\"register_id\") long register_id,\r\n            @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n\r\n        String studyResult = allReqParams.get(\"studyResult\");\r\n        Register register = registerService.getRegisterByRegisterId(register_id);\r\n        // ตรวจสอบค่า studyResult และดำเนินการตามที่คุณต้องการ\r\n        if (\"ผ่านหลักสูตร\".equals(studyResult)) {\r\n            register.setStudy_result(true);\r\n        } else if (\"ไม่ผ่านหลักสูตร\".equals(studyResult)) {\r\n            register.setStudy_result(false);\r\n        }\r\n        registerService.updateRegister(register);\r\n\r\n        return \"redirect:/course/\" + request_id + \"/list_member_to_approve\";\r\n    }\r\n\r\n    @GetMapping(\"/public/list_activity\")\r\n    public String listPublicActivityCourse(Model model) {\r\n        model.addAttribute(\"title\", \"รายการ\" + title);\r\n        model.addAttribute(\"list_activities\", activityService.getPublicActivity());\r\n        return \"admin/list_Public_Activity\";\r\n    }\r\n\r\n    @GetMapping(\"/public/{id}/view_page\")\r\n    public String showActivityDetail(@PathVariable(\"id\") long id, Model model) {\r\n        Activity activity = activityService.getActivityDetail(id);\r\n        model.addAttribute(\"title\", \"รายละเอียด\" + title + \"ทั่วไป\");\r\n        model.addAttribute(\"activities\", activity);\r\n        return \"admin/view_detail_public_activity\";\r\n    }\r\n\r\n    @GetMapping(\"/public/{id}/edit_page\")\r\n    public String showEditActivity(@PathVariable(\"id\") long id, Model model) {\r\n        Activity activity = activityService.getActivityDetail(id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title + \"ทั่วไป\");\r\n        model.addAttribute(\"activities\", activity);\r\n        return \"admin/edit_Public_Activity\";\r\n    }\r\n\r\n    @GetMapping(\"/public/add_activity\")\r\n    public String showFormAddActivity(Model model) {\r\n        model.addAttribute(\"title\", \"เพิ่ม\" + title);\r\n//        model.addAttribute(\"add_public_activity\", new Activity());\r\n        return \"admin/add_Public_Activity\";\r\n    }\r\n\r\n    @PostMapping(path = \"/admin/save_public_add_activity\")\r\n    public String saveAddPublicActivity(@RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        String ac_name = allReqParams.get(\"ac_name\");\r\n        Date ac_date = new Date();\r\n        String ac_detail = allReqParams.get(\"ac_detail\");\r\n        String ac_type = \"Public\";\r\n        String ac_img = allReqParams.get(\"ac_img\");\r\n\r\n        Activity public_activity_add = new Activity(ac_name, ac_date, ac_detail, ac_type, ac_img);\r\n        activityService.addActivityNews(public_activity_add);\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n\r\n    @PostMapping(path = \"/{id}/update_public_add_activity\")\r\n    public String updateActivity(@PathVariable(\"id\") String ac_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        long existingActivityId = Long.parseLong(ac_id);\r\n        Activity existingActivity = activityService.getActivityDetail(existingActivityId);\r\n        System.out.println(\"PASS\");\r\n        if (existingActivity != null) {\r\n            existingActivity.setName(allReqParams.get(\"ac_name\"));\r\n            existingActivity.setDetail(allReqParams.get(\"ac_detail\"));\r\n            existingActivity.setImg(allReqParams.get(\"ac_img\"));\r\n            activityService.updateActivity(existingActivity);\r\n        }\r\n        return \"redirect:/course/public/\" + ac_id + \"/view_page\";\r\n    }\r\n\r\n    @GetMapping(\"/{roc_id}/list_course_activity\")\r\n    public String listCourseActivity(Model model, @PathVariable(\"roc_id\") long roc_id) {\r\n        model.addAttribute(\"title\", \"รายการ\" + title);\r\n        model.addAttribute(\"list_activities\", activityService.getPublicActivity());\r\n        return \"admin/list_Public_Activity\";\r\n    }\r\n\r\n\r\n    @GetMapping(\"/add_img\")\r\n    public String addImg(Model model) {\r\n        model.addAttribute(\"list_img\",courseService.getAddImg());\r\n        return \"admin/add_img\";\r\n    }\r\n\r\n    @Autowired\r\n    private ServletContext servletContext;\r\n\r\n    @PostMapping(\"/addImg\")\r\n    public String addImg(@RequestParam(\"detail\") String detail, @RequestParam(\"file\") MultipartFile file) {\r\n        try {\r\n\r\n            // กำหนด path ที่จะบันทึกไฟล์\r\n            String uploadPath = ImgPath.pathImg + \"/addImg/\";\r\n\r\n            // ตรวจสอบและสร้างโฟลเดอร์ถ้าไม่มี\r\n            Path directoryPath = Paths.get(uploadPath);\r\n            Files.createDirectories(directoryPath);\r\n\r\n            // ดึงนามสกุลไฟล์จากชื่อไฟล์\r\n            String originalFileName = file.getOriginalFilename();\r\n            String fileExtension = getFileExtension(originalFileName);\r\n            int latestFileCount = courseService.getLatestFileCount(); // แทนที่ด้วยเมธอดหรือวิธีที่คุณใช้ในการดึงข้อมูลล่าสุด\r\n\r\n            // สร้างรหัสไฟล์ใหม่ในรูปแบบ \"IMG_0001\", \"IMG_0002\", ...\r\n            String newFileName = String.format(\"IMG_%04d%s\", ++latestFileCount, fileExtension);\r\n\r\n            // บันทึกไฟล์ลงในโฟลเดอร์ที่ใช้เพื่อแสดงผลในเว็บ\r\n            Path filePath = Paths.get(uploadPath, newFileName);\r\n            Files.write(filePath, file.getBytes());\r\n\r\n            // บันทึก path ไปยังฐานข้อมูล\r\n            AddImg newImg = new AddImg(detail, newFileName);\r\n            courseService.doAddImg(newImg);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return \"redirect:/\"; // หรือไปยังหน้าที่คุณต้องการ\r\n    }\r\n\r\n    // รับนามสกุลไฟล์จากชื่อไฟล์\r\n    private String getFileExtension(String fileName) {\r\n        int dotIndex = fileName.lastIndexOf('.');\r\n        if (dotIndex > 0 && dotIndex < fileName.length() - 1) {\r\n            return fileName.substring(dotIndex);\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/controller/CourseController.java b/src/main/java/lifelong/controller/CourseController.java
--- a/src/main/java/lifelong/controller/CourseController.java	(revision a2cc2b8149400ce376f0372127d234ff593636d1)
+++ b/src/main/java/lifelong/controller/CourseController.java	(date 1692459359819)
@@ -45,75 +45,8 @@
 
     @Autowired
     private PaymentService paymentService;
-//    @Autowired
-//    private RequestOpenCourseService requestOpenCourseService;
-
-//    @GetMapping("/")
-//    public String listCourse(Model model) {
-//        model.addAttribute("title", "รายการ" + title);
-//        model.addAttribute("courses", courseService.getCourses());
-//        return "home";
-//    }
-
-    @GetMapping("/list_all_course")
-    public String listAllCourse(Model model) {
-        model.addAttribute("title", "รายการ" + title);
-        model.addAttribute("courses", courseService.getCourses());
-        model.addAttribute("requests_open_course", requestOpCourseService.getRequestOpenCourses());
-        model.addAttribute("list_activities", activityService.getPublicActivity());
-        return "admin/listAllCourse";
-    }
-
-    //    @GetMapping("/list_request_open_course")
-//    public String listRequestCourse(Model model) {
-//        model.addAttribute("title", "รายการ");
-//        model.addAttribute("requests_open_course", requestOpCourseService.getRequestOpenCourses());
-//        return "admin/listAllCourse";
-//    }
-    @GetMapping("/view_request_open_course/{request_id}")
-    public String showRequestOpenCourse(@PathVariable("request_id") long request_id, Model model) {
-        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);
-        model.addAttribute("title", "ดูข้อมูลการร้องขอ");
-        model.addAttribute("ROC_detail", requestOpenCourse);
-        return "admin/view_request_open_course_by_admin";
-    }
 
-    @PostMapping(path = "/view_request_open_course/{request_id}/approve")
-    public String approveRequestOpenCourse(@PathVariable("request_id") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
-        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
-        if (existingRequestOpenCourse != null) {
-            existingRequestOpenCourse.setRequestStatus("ผ่าน");
-            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);
-        }
-        return "redirect:/course/list_all_course";
-    }
-
-    @GetMapping("/note_cancel_request_open_course/{request_id}")
-    public String noteCancelRequestOpenCourse(@PathVariable("request_id") long request_id, Model model) {
-        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);
-        model.addAttribute("ROC_detail", requestOpenCourse);
-        return "admin/note_not_pass_detail";
-    }
-
-    @PostMapping(path = "/note_cancel_request_open_course/{request_id}/cancel")
-    public String cancelRequestOpenCourse(@PathVariable("request_id") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
-        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
-        if (existingRequestOpenCourse != null) {
-            existingRequestOpenCourse.setRequestStatus("ไม่ผ่าน");
-            existingRequestOpenCourse.setNote(allReqParams.get("cancelReason"));
-            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);
-        }
-        return "redirect:/course/list_all_course";
-    }
-
-    @GetMapping("/{id}/course_detail")
-    public String showCourseDetailByAdmin(@PathVariable("id") String id, Model model) {
-        Course course = courseService.getCourseDetail(id);
-        model.addAttribute("title", "รายละเอียด" + title);
-        model.addAttribute("course_detail", course);
-        return "admin/course_detail_by_admin";
-    }
-
+    //**************Add Course***********//
     @GetMapping("/add_course")
     public String showFormAddCourse(Model model) {
         model.addAttribute("title", "เพิ่ม" + title);
@@ -122,15 +55,8 @@
         return "admin/addCourse";
     }
 
-    @GetMapping("/add_major")
-    public String showFormAddMajor(Model model) {
-        model.addAttribute("title", "เพิ่ม" + title);
-        model.addAttribute("add_major", new Major());
-        return "admin/addMajor";
-    }
-
     @PostMapping(path = "/admin/save")
-    public String saveAddCourse(@RequestParam Map<String, String> allReqParams) throws ParseException {
+    public String doAddCourse(@RequestParam Map<String, String> allReqParams) throws ParseException {
         String course_id = allReqParams.get("course_id");
         String course_name = allReqParams.get("course_name");
         String certificateName = allReqParams.get("certificateName");
@@ -151,9 +77,42 @@
         courseService.doAddCourse(course_add);
         return "redirect:/";
     }
+    //***********************************************//
+
+    //**********Approve Request Open Course*******************//
+    @GetMapping("/view_request_open_course/{request_id}")
+    public String getListRequestOpenCourse(@PathVariable("request_id") long request_id, Model model) {
+        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);
+        model.addAttribute("title", "ดูข้อมูลการร้องขอ");
+        model.addAttribute("ROC_detail", requestOpenCourse);
+        return "admin/view_request_open_course_by_admin";
+    }
 
+    @PostMapping(path = "/view_request_open_course/{request_id}/approve")
+    public String doApproveRequest(@PathVariable("request_id") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
+        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
+        if (existingRequestOpenCourse != null) {
+            existingRequestOpenCourse.setRequestStatus("ผ่าน");
+            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);
+        }
+        return "redirect:/course/list_all_course";
+    }
+    //******************************************************//
+
+    //**********List All Course************//
+    @GetMapping("/list_all_course")
+    public String getListAllCourse(Model model) {
+        model.addAttribute("title", "รายการ" + title);
+        model.addAttribute("courses", courseService.getCourses());
+        model.addAttribute("requests_open_course", requestOpCourseService.getRequestOpenCourses());
+        model.addAttribute("list_activities", activityService.getPublicActivity());
+        return "admin/listAllCourse";
+    }
+    //**********************************************//
+
+    //**************Edit Course*******************//
     @GetMapping("/{id}/edit_course")
-    public String showEditCourse(@PathVariable("id") String id, Model model) {
+    public String getCourse(@PathVariable("id") String id, Model model) {
         Course course = courseService.getCourseById(id);
         model.addAttribute("title", "แก้ไข" + title);
         model.addAttribute("majors", majorService.getMajors());
@@ -162,7 +121,7 @@
     }
 
     @PostMapping(path = "/{id}/update_edit_course")
-    public String updateCourse(@PathVariable("id") String course_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
+    public String doEditCourse(@PathVariable("id") String course_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
         Course existingCourse = courseService.getCourseById(course_id);
         if (existingCourse != null) {
             existingCourse.setCourse_id(allReqParams.get("course_id"));
@@ -183,15 +142,9 @@
         }
         return "redirect:/course/list_all_course";
     }
+    //************************************************************//
 
-    @GetMapping("/view_approve_request_open_course/{id}")
-    public String showRequestApproveOpenCourse(@PathVariable("id") long id, Model model) {
-        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(id);
-        model.addAttribute("title", "แก้ไข" + title);
-        model.addAttribute("RAOC_detail", requestOpenCourse);
-        return "admin/view_Approve_request_open_course_by_admin";
-    }
-
+    //*****************Approve Member to Course******************//
     @GetMapping("/{roc_id}/list_member_to_course")
     public String showListMemberToRequestCourse(@PathVariable("roc_id") long roc_id, Model model) {
         List<Register> register = registerService.getRegisterByRequestId(roc_id);
@@ -209,9 +162,8 @@
         model.addAttribute("request_id", request_id);
         return "admin/view_payment_detail";
     }
-
     @PostMapping(path = "/{request_id}/view_payment_detail/{invoice_id}/approve")
-    public String approveMemberToCourse(@PathVariable("request_id") long request_id, @PathVariable("invoice_id") long invoice_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
+    public String updatePaymentStatus(@PathVariable("request_id") long request_id, @PathVariable("invoice_id") long invoice_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
         Invoice invoice = paymentService.getInvoiceById(invoice_id);
         if (invoice != null) {
             invoice.setApprove_status("ผ่าน");
@@ -219,33 +171,40 @@
         }
         return "redirect:/course/list_all_course";
     }
-
-    @PostMapping(path = "/{request_id}/update_Status_Member_Result/{register_id}")
-    public String updateStatusMemberResult(
-            @PathVariable("request_id") long request_id,
-            @PathVariable("register_id") long register_id,
-            @RequestParam Map<String, String> allReqParams) throws ParseException {
+    //*******************************************************************//
+
+    //**************Add Activity News************************//
+    @GetMapping("/public/add_activity")
+    public String showFormAddActivity(Model model) {
+        model.addAttribute("title", "เพิ่ม" + title);
+//        model.addAttribute("add_public_activity", new Activity());
+        return "admin/add_Public_Activity";
+    }
+
+    @PostMapping(path = "/admin/save_public_add_activity")
+    public String addActivityNews(@RequestParam Map<String, String> allReqParams) throws ParseException {
+        String ac_name = allReqParams.get("ac_name");
+        Date ac_date = new Date();
+        String ac_detail = allReqParams.get("ac_detail");
+        String ac_type = "Public";
+        String ac_img = allReqParams.get("ac_img");
+
+        Activity public_activity_add = new Activity(ac_name, ac_date, ac_detail, ac_type, ac_img);
+        activityService.addActivityNews(public_activity_add);
+        return "redirect:/course/list_all_course";
+    }
+    //*********************************************************//
 
-        String studyResult = allReqParams.get("studyResult");
-        Register register = registerService.getRegisterByRegisterId(register_id);
-        // ตรวจสอบค่า studyResult และดำเนินการตามที่คุณต้องการ
-        if ("ผ่านหลักสูตร".equals(studyResult)) {
-            register.setStudy_result(true);
-        } else if ("ไม่ผ่านหลักสูตร".equals(studyResult)) {
-            register.setStudy_result(false);
-        }
-        registerService.updateRegister(register);
-
-        return "redirect:/course/" + request_id + "/list_member_to_approve";
-    }
-
+    //**********List Activity News******************//
     @GetMapping("/public/list_activity")
-    public String listPublicActivityCourse(Model model) {
+    public String getListActivityNews(Model model) {
         model.addAttribute("title", "รายการ" + title);
         model.addAttribute("list_activities", activityService.getPublicActivity());
         return "admin/list_Public_Activity";
     }
+    //************************************************//
 
+    //**********ไม่มีแล้ว*************************//
     @GetMapping("/public/{id}/view_page")
     public String showActivityDetail(@PathVariable("id") long id, Model model) {
         Activity activity = activityService.getActivityDetail(id);
@@ -253,37 +212,19 @@
         model.addAttribute("activities", activity);
         return "admin/view_detail_public_activity";
     }
+    //******************************************//
 
+    //********Edit Activity News (ต่อ List Activity)******************//
     @GetMapping("/public/{id}/edit_page")
-    public String showEditActivity(@PathVariable("id") long id, Model model) {
+    public String getListActivityNews(@PathVariable("id") long id, Model model) {
         Activity activity = activityService.getActivityDetail(id);
         model.addAttribute("title", "แก้ไข" + title + "ทั่วไป");
         model.addAttribute("activities", activity);
         return "admin/edit_Public_Activity";
     }
 
-    @GetMapping("/public/add_activity")
-    public String showFormAddActivity(Model model) {
-        model.addAttribute("title", "เพิ่ม" + title);
-//        model.addAttribute("add_public_activity", new Activity());
-        return "admin/add_Public_Activity";
-    }
-
-    @PostMapping(path = "/admin/save_public_add_activity")
-    public String saveAddPublicActivity(@RequestParam Map<String, String> allReqParams) throws ParseException {
-        String ac_name = allReqParams.get("ac_name");
-        Date ac_date = new Date();
-        String ac_detail = allReqParams.get("ac_detail");
-        String ac_type = "Public";
-        String ac_img = allReqParams.get("ac_img");
-
-        Activity public_activity_add = new Activity(ac_name, ac_date, ac_detail, ac_type, ac_img);
-        activityService.addActivityNews(public_activity_add);
-        return "redirect:/course/list_all_course";
-    }
-
     @PostMapping(path = "/{id}/update_public_add_activity")
-    public String updateActivity(@PathVariable("id") String ac_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
+    public String doEditActivityNews(@PathVariable("id") String ac_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
         long existingActivityId = Long.parseLong(ac_id);
         Activity existingActivity = activityService.getActivityDetail(existingActivityId);
         System.out.println("PASS");
@@ -295,13 +236,59 @@
         }
         return "redirect:/course/public/" + ac_id + "/view_page";
     }
+    //**********************************************//
+
+    //***************Delete Activity News********************//
+    @GetMapping("/delete")
+    public String doDeleteActivityNews() {
+        return null;
+    }
+    //*******************************************************//
+
+    //************************ลบทิ้งมันเกินที่คิดไว้*******************************//
+    @GetMapping("/note_cancel_request_open_course/{request_id}")
+    public String noteCancelRequestOpenCourse(@PathVariable("request_id") long request_id, Model model) {
+        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);
+        model.addAttribute("ROC_detail", requestOpenCourse);
+        return "admin/note_not_pass_detail";
+    }
+
+    @PostMapping(path = "/note_cancel_request_open_course/{request_id}/cancel")
+    public String cancelRequestOpenCourse(@PathVariable("request_id") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {
+        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
+        if (existingRequestOpenCourse != null) {
+            existingRequestOpenCourse.setRequestStatus("ไม่ผ่าน");
+            existingRequestOpenCourse.setNote(allReqParams.get("cancelReason"));
+            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);
+        }
+        return "redirect:/course/list_all_course";
+    }
+    //*******************************************************//
 
-    @GetMapping("/{roc_id}/list_course_activity")
-    public String listCourseActivity(Model model, @PathVariable("roc_id") long roc_id) {
-        model.addAttribute("title", "รายการ" + title);
-        model.addAttribute("list_activities", activityService.getPublicActivity());
-        return "admin/list_Public_Activity";
+    //*********************Comment**************************//
+    @GetMapping("/{id}/course_detail")
+    public String showCourseDetailByAdmin(@PathVariable("id") String id, Model model) {
+        Course course = courseService.getCourseDetail(id);
+        model.addAttribute("title", "รายละเอียด" + title);
+        model.addAttribute("course_detail", course);
+        return "admin/course_detail_by_admin";
     }
+
+    @GetMapping("/view_approve_request_open_course/{id}")
+    public String showRequestApproveOpenCourse(@PathVariable("id") long id, Model model) {
+        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(id);
+        model.addAttribute("title", "แก้ไข" + title);
+        model.addAttribute("RAOC_detail", requestOpenCourse);
+        return "admin/view_Approve_request_open_course_by_admin";
+    }
+    //*******************************************************//
+
+//    @GetMapping("/{roc_id}/list_course_activity")
+//    public String listCourseActivity(Model model, @PathVariable("roc_id") long roc_id) {
+//        model.addAttribute("title", "รายการ" + title);
+//        model.addAttribute("list_activities", activityService.getPublicActivity());
+//        return "admin/list_Public_Activity";
+//    }
 
 
     @GetMapping("/add_img")
@@ -356,5 +343,4 @@
     }
 
 
-
 }
Index: src/main/java/lifelong/controller/LecturerController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.controller;\r\n\r\nimport lifelong.model.*;\r\nimport lifelong.service.*;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.propertyeditors.StringTrimmerEditor;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.WebDataBinder;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Controller\r\n@RequestMapping(\"/lecturer\")\r\npublic class LecturerController {\r\n    @Autowired\r\n    private CourseService courseService;\r\n    @Autowired\r\n    private RequestOpCourseService requestOpCourseService;\r\n\r\n    @Autowired\r\n    private LecturerService lecturerService;\r\n    @Autowired\r\n    private ActivityService activityService;\r\n    @Autowired\r\n    private RegisterService registerService;\r\n\r\n    private String title = \"หลักสูตรที่ร้องขอ\";\r\n    @Autowired\r\n    private SessionFactory sessionFactory;\r\n    private String Activity_title = \"ข่าวสารและกิจกรรม\";\r\n    @GetMapping(\"/{lec_id}/view_request_open_course/{roc_id}\")\r\n    public String showRequestOpenCourse(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"roc_id\") long roc_id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        //model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"ROC_detail\", requestOpenCourse);\r\n        model.addAttribute(\"lec_id\", lec_id);\r\n        return \"lecturer/view_request_open_course\";\r\n    }\r\n\r\n    @GetMapping(\"/{lec_id}/view_approve_request_open_course/{roc_id}\")\r\n    public String showRequestApproveOpenCourse(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"roc_id\") long roc_id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"RAOC_detail\", requestOpenCourse);\r\n        model.addAttribute(\"course_activities\",activityService.getActivityDetailByCourseId(roc_id));\r\n        return \"lecturer/view_Approve_request_open_course\";\r\n    }\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder dataBinder) {\r\n        StringTrimmerEditor stringTrimmerEditor = new StringTrimmerEditor(true);\r\n        dataBinder.registerCustomEditor(String.class, stringTrimmerEditor);\r\n    }\r\n\r\n//    @GetMapping(\"/{lec_id}/{roc_id}/delete\")\r\n//    public String deleteProduct(@PathVariable(\"lec_id\")String lec_id,@PathVariable(\"roc_id\") long roc_id) {\r\n////        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetailToUpdate(roc_id,lec_id);\r\n//        requestOpCourseService.deleteRequestOpenCourse(roc_id,lec_id);\r\n////        String lec_id = requestOpenCourse.getLecturer().getUsername();\r\n//        System.out.println(lec_id);\r\n//        return \"redirect:/lecturer/\"+ lec_id +\"/list_request_open_course\";\r\n//    }\r\n\r\n    @GetMapping(\"/{lecturer_id}/add_roc\")\r\n    public String showFormAddCourse(@PathVariable(\"lecturer_id\") String lecturer_id,Model model) {\r\n        model.addAttribute(\"title\", \"ร้องขอเปิด\" + title);\r\n        model.addAttribute(\"lecturer\",requestOpCourseService.getLecturerDetail(lecturer_id));\r\n        model.addAttribute(\"courses\", courseService.getCourses());\r\n        model.addAttribute(\"request_open_course\", new RequestOpenCourse());\r\n        return \"lecturer/add_request_open_course\";\r\n    }\r\n    @GetMapping(\"/{lec_id}/{roc_id}/update_page\")\r\n    public String showFormForUpdate(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"roc_id\") long roc_id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetailToUpdate(roc_id,lec_id);\r\n        model.addAttribute(\"title\", \"แก้ไขคำร้องขอเปิด\" + title);\r\n        model.addAttribute(\"lecturer\", requestOpCourseService.getLecturer());\r\n        model.addAttribute(\"courses\", courseService.getCourses());\r\n        model.addAttribute(\"request_open_course\", requestOpenCourse);\r\n        return \"lecturer/update_request_open_course\";\r\n    }\r\n\r\n    @PostMapping(\"/update_roc\")\r\n    public String updateRequestOpCourse(@ModelAttribute(\"request_open_course\") RequestOpenCourse requestOpenCourse) {\r\n        System.out.println(requestOpenCourse.getRequest_id());\r\n        return \"redirect:list_request_open_course\";\r\n    }\r\n\r\n\r\n    @PostMapping (path=\"/{id}/save\")\r\n    public String saveRequest(@PathVariable(\"id\") String lec_id,@RequestParam Map<String, String> allReqParams,@RequestParam(\"confirmButton\") String confirmButton) throws ParseException {\r\n\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\"); // เปลี่ยนรูปแบบวันที่ให้ตรงกับ HTML\r\n        Date requestDate = new Date();\r\n        Date startRegisterDate = dateFormat.parse(allReqParams.get(\"startRegister\"));\r\n        Date endRegisterDate = dateFormat.parse(allReqParams.get(\"endRegister\"));\r\n        int quantity = Integer.parseInt(allReqParams.get(\"quantity\"));\r\n        Date startStudyDate = dateFormat.parse(allReqParams.get(\"startStudyDate\"));\r\n        Date endStudyDate = dateFormat.parse(allReqParams.get(\"endStudyDate\"));\r\n        String studyTime = allReqParams.get(\"studyTime\");\r\n        Date applicationResultDate = dateFormat.parse(allReqParams.get(\"applicationResult\"));\r\n        String type_learn = allReqParams.get(\"type_learn\");\r\n        String type_teach = allReqParams.get(\"type_teach\");\r\n        String location = allReqParams.get(\"location\");\r\n        String requestStatusBool = \"รอดำเนินการ\";\r\n        String signature = allReqParams.get(\"signature\");\r\n        Course course = courseService.getCourseById(allReqParams.get(\"course_id\"));\r\n//        String lecturer_username = allReqParams.get(\"lecturer_username\");\r\n        Lecturer lecturer = lecturerService.getLecturerById(lec_id);\r\n\r\n        RequestOpenCourse requestOpenCourse_toAdd = new RequestOpenCourse(requestDate, startRegisterDate, endRegisterDate, quantity, startStudyDate, endStudyDate, studyTime, type_learn, type_teach, applicationResultDate, location, requestStatusBool, signature, course, lecturer);\r\n        requestOpCourseService.saveRequestOpenCourse(requestOpenCourse_toAdd);\r\n        return \"redirect:/lecturer/\"+ lec_id +\"/list_request_open_course\";\r\n    }\r\n    @PostMapping (path=\"/{lec_id}/{req_id}/update\")\r\n    public String updateRequest(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"req_id\") String req_id,@RequestParam Map<String, String> allReqParams) throws ParseException {\r\n\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\"); // เปลี่ยนรูปแบบวันที่ให้ตรงกับ HTML\r\n\r\n        //boolean requestStatusBool = false;\r\n\r\n//        Lecturer lecturer = lecturerService.getLecturerById(lec_id);\r\n\r\n        long existingRequestId = Long.parseLong(req_id);\r\n        RequestOpenCourse existingRequest = requestOpCourseService.getRequestOpenCourseDetailToUpdate(existingRequestId,lec_id);\r\n        System.out.println(\"PASS\");\r\n        if (existingRequest != null) {\r\n            existingRequest.setStartRegister(dateFormat.parse(allReqParams.get(\"startRegister\")));\r\n            existingRequest.setEndRegister(dateFormat.parse(allReqParams.get(\"endRegister\")));\r\n            existingRequest.setQuantity(Integer.parseInt(allReqParams.get(\"quantity\")));\r\n            existingRequest.setStartStudyDate(dateFormat.parse(allReqParams.get(\"startStudyDate\")));\r\n            existingRequest.setEndStudyDate(dateFormat.parse(allReqParams.get(\"endStudyDate\")));\r\n            existingRequest.setStudyTime(allReqParams.get(\"studyTime\"));\r\n            existingRequest.setApplicationResult(dateFormat.parse(allReqParams.get(\"applicationResult\")));\r\n            existingRequest.setType_learn(allReqParams.get(\"type_learn\"));\r\n            existingRequest.setType_teach(allReqParams.get(\"type_teach\"));\r\n            existingRequest.setLocation(allReqParams.get(\"location\"));\r\n            existingRequest.setSignature(allReqParams.get(\"signature\"));\r\n            existingRequest.setCourse(courseService.getCourseById(allReqParams.get(\"course_id\")));\r\n            requestOpCourseService.updateRequestOpenCourse(existingRequest);\r\n        }\r\n//        String lec_id = existingRequest.getLecturer().getUsername();\r\n        return \"redirect:/lecturer/\"+ lec_id +\"/view_request_open_course/\"+ req_id;\r\n    }\r\n    @GetMapping(\"/{lecturer_id}/list_request_open_course\")\r\n    public String listCourse(@PathVariable(\"lecturer_id\") String lecturer_id,Model model) {\r\n        model.addAttribute(\"title\", \"รายการ\");\r\n        model.addAttribute(\"lecturer_id\", lecturer_id);\r\n        model.addAttribute(\"requests_open_course\", requestOpCourseService.getRequestOpenCoursesByLecturerId(lecturer_id));\r\n        return \"lecturer/list_request_open_course\";\r\n    }\r\n    @GetMapping(\"/{lecturer_id}/{request_id}/list_member_to_approve\")\r\n    public String showListMemberToApprove(@PathVariable(\"lecturer_id\") String lecturer_id,@PathVariable(\"request_id\") long request_id , Model model) {\r\n        List<Register> register = registerService.getRegisterByRequestIdAndPayStatus(request_id);\r\n        model.addAttribute(\"title\",\"TEST\");\r\n        model.addAttribute(\"registers\",register);\r\n        model.addAttribute(\"lecturer_id\",lecturer_id);\r\n        return \"lecturer/list_member_approve_course\";\r\n    }\r\n    @GetMapping(\"/{lec_id}/private/{id}/edit_course_activity_page/{roc_id}\")\r\n    public String showEditCourseActivity(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"id\") long id,@PathVariable(\"roc_id\") long roc_id, Model model) {\r\n        Activity activity = activityService.getActivityDetailToUpdate(id,lec_id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + Activity_title + \"ทั่วไป\");\r\n        model.addAttribute(\"activities\", activity);\r\n        model.addAttribute(\"request_id\", roc_id);\r\n        return \"lecturer/edit_Course_Activity\";\r\n    }\r\n\r\n\r\n    @PostMapping (path=\"/{lec_id}/{id}/update_course_add_activity\")\r\n    public String updateCourseActivity(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"id\") long ac_id,@RequestParam Map<String, String> allReqParams) throws ParseException {\r\n//        long existingActivityId = Long.parseLong(ac_id);\r\n        Activity existingActivity = activityService.getActivityDetailToUpdate(ac_id,lec_id);\r\n        System.out.println(\"PASS\");\r\n        if (existingActivity != null) {\r\n            existingActivity.setName(allReqParams.get(\"ac_name\"));\r\n            existingActivity.setDetail(allReqParams.get(\"ac_detail\"));\r\n            existingActivity.setImg(allReqParams.get(\"ac_img\"));\r\n            activityService.updateActivity(existingActivity);\r\n        }\r\n        return \"redirect:/lecturer/\"+lec_id+\"/\"+ac_id+\"/view_course_activity_page/\"+existingActivity.getRequestOpenCourse().getRequest_id();\r\n    }\r\n\r\n    @GetMapping(\"/{lec_id}/{id}/delete\")\r\n    public String deleteActivity(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"id\") long id) {\r\n        Activity activity = activityService.getActivityDetail(id);\r\n            activityService.deleteCourseActivity(id,lec_id);\r\n            return \"redirect:/lecturer/\"+lec_id+\"/view_approve_request_open_course/\"+activity.getRequestOpenCourse().getRequest_id();\r\n    }\r\n\r\n    @GetMapping(\"/{roc_id}/add_course_activity\")\r\n    public String showFormAddCourseActivity(Model model, @PathVariable(\"roc_id\") long roc_id) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        model.addAttribute(\"title\", \"เพิ่มข่าวสารประจำหลักสูตร\");\r\n        model.addAttribute(\"ROC_detail\", requestOpenCourse);\r\n//        model.addAttribute(\"add_public_activity\", new Activity());\r\n        return \"lecturer/add_Course_Activity\";\r\n    }\r\n    @Transactional\r\n    @PostMapping (path=\"/{lec_id}/save_add_course_activity/{roc_id}\")\r\n    public String saveAddRequestCourseActivity(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"roc_id\") long roc_id,@RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        Date ac_date =  new Date();\r\n        String ac_name = allReqParams.get(\"ac_name\");\r\n        String ac_detail = allReqParams.get(\"ac_detail\");\r\n        String ac_img = allReqParams.get(\"ac_img\");\r\n        String ac_type = \"Private\";\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        Lecturer lecturer = lecturerService.getLecturerById(lec_id);\r\n\r\n        Activity public_activity_add = new Activity(ac_name,ac_date,ac_detail,ac_type,ac_img,requestOpenCourse,lecturer);\r\n\r\n        Session session = sessionFactory.getCurrentSession();\r\n\r\n        // ใช้ session.merge() เพื่อรวมหรืออัปเดตอ็อบเจกต์ลงใน session\r\n        Activity mergedActivity = (Activity) session.merge(public_activity_add);\r\n\r\n        // เพิ่มกิจกรรมเข้าสู่ระบบโดยใช้อ็อบเจกต์ที่รวมแล้ว\r\n        activityService.addActivityNews(mergedActivity);\r\n        return \"redirect:/lecturer/\"+lec_id+\"/view_approve_request_open_course/\"+roc_id;\r\n    }\r\n\r\n    @GetMapping(\"/{lec_id}/{ac_id}/view_course_activity_page/{roc_id}\")\r\n    public String showCourseActivityDetail(@PathVariable(\"lec_id\") String lec_id,@PathVariable(\"ac_id\") long ac_id,@PathVariable(\"roc_id\") long roc_id, Model model) {\r\n        Activity activity = activityService.getActivityDetailToUpdate(ac_id,lec_id);\r\n        model.addAttribute(\"title\", \"รายละเอียด\" + Activity_title + \"ทั่วไป\");\r\n        model.addAttribute(\"activities\", activity);\r\n        model.addAttribute(\"request_id\", roc_id);\r\n        return \"lecturer/view_detail_course_activity\";\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/controller/LecturerController.java b/src/main/java/lifelong/controller/LecturerController.java
--- a/src/main/java/lifelong/controller/LecturerController.java	(revision a2cc2b8149400ce376f0372127d234ff593636d1)
+++ b/src/main/java/lifelong/controller/LecturerController.java	(date 1692461930940)
@@ -37,66 +37,18 @@
     @Autowired
     private SessionFactory sessionFactory;
     private String Activity_title = "ข่าวสารและกิจกรรม";
-    @GetMapping("/{lec_id}/view_request_open_course/{roc_id}")
-    public String showRequestOpenCourse(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id, Model model) {
-        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
-        //model.addAttribute("title", "แก้ไข" + title);
-        model.addAttribute("ROC_detail", requestOpenCourse);
-        model.addAttribute("lec_id", lec_id);
-        return "lecturer/view_request_open_course";
-    }
-
-    @GetMapping("/{lec_id}/view_approve_request_open_course/{roc_id}")
-    public String showRequestApproveOpenCourse(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id, Model model) {
-        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
-        model.addAttribute("title", "แก้ไข" + title);
-        model.addAttribute("RAOC_detail", requestOpenCourse);
-        model.addAttribute("course_activities",activityService.getActivityDetailByCourseId(roc_id));
-        return "lecturer/view_Approve_request_open_course";
-    }
-    @InitBinder
-    public void initBinder(WebDataBinder dataBinder) {
-        StringTrimmerEditor stringTrimmerEditor = new StringTrimmerEditor(true);
-        dataBinder.registerCustomEditor(String.class, stringTrimmerEditor);
-    }
 
-//    @GetMapping("/{lec_id}/{roc_id}/delete")
-//    public String deleteProduct(@PathVariable("lec_id")String lec_id,@PathVariable("roc_id") long roc_id) {
-////        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetailToUpdate(roc_id,lec_id);
-//        requestOpCourseService.deleteRequestOpenCourse(roc_id,lec_id);
-////        String lec_id = requestOpenCourse.getLecturer().getUsername();
-//        System.out.println(lec_id);
-//        return "redirect:/lecturer/"+ lec_id +"/list_request_open_course";
-//    }
-
+    //******************Request Open Course*************************//
     @GetMapping("/{lecturer_id}/add_roc")
-    public String showFormAddCourse(@PathVariable("lecturer_id") String lecturer_id,Model model) {
+    public String getCourseRequest(@PathVariable("lecturer_id") String lecturer_id,Model model) {
         model.addAttribute("title", "ร้องขอเปิด" + title);
         model.addAttribute("lecturer",requestOpCourseService.getLecturerDetail(lecturer_id));
         model.addAttribute("courses", courseService.getCourses());
         model.addAttribute("request_open_course", new RequestOpenCourse());
         return "lecturer/add_request_open_course";
     }
-    @GetMapping("/{lec_id}/{roc_id}/update_page")
-    public String showFormForUpdate(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id, Model model) {
-        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetailToUpdate(roc_id,lec_id);
-        model.addAttribute("title", "แก้ไขคำร้องขอเปิด" + title);
-        model.addAttribute("lecturer", requestOpCourseService.getLecturer());
-        model.addAttribute("courses", courseService.getCourses());
-        model.addAttribute("request_open_course", requestOpenCourse);
-        return "lecturer/update_request_open_course";
-    }
-
-    @PostMapping("/update_roc")
-    public String updateRequestOpCourse(@ModelAttribute("request_open_course") RequestOpenCourse requestOpenCourse) {
-        System.out.println(requestOpenCourse.getRequest_id());
-        return "redirect:list_request_open_course";
-    }
-
-
     @PostMapping (path="/{id}/save")
-    public String saveRequest(@PathVariable("id") String lec_id,@RequestParam Map<String, String> allReqParams,@RequestParam("confirmButton") String confirmButton) throws ParseException {
-
+    public String doRequestOpenCourseDetail(@PathVariable("id") String lec_id,@RequestParam Map<String, String> allReqParams,@RequestParam("confirmButton") String confirmButton) throws ParseException {
         SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd"); // เปลี่ยนรูปแบบวันที่ให้ตรงกับ HTML
         Date requestDate = new Date();
         Date startRegisterDate = dateFormat.parse(allReqParams.get("startRegister"));
@@ -119,9 +71,30 @@
         requestOpCourseService.saveRequestOpenCourse(requestOpenCourse_toAdd);
         return "redirect:/lecturer/"+ lec_id +"/list_request_open_course";
     }
+    //********************************************************//
+
+    //************************* List Request Course & List Approved Course***************************//
+    @GetMapping("/{lecturer_id}/list_request_open_course")
+    public String doListRequestCourseDetail(@PathVariable("lecturer_id") String lecturer_id,Model model) {
+        model.addAttribute("title", "รายการ");
+        model.addAttribute("lecturer_id", lecturer_id);
+        model.addAttribute("requests_open_course", requestOpCourseService.getRequestOpenCoursesByLecturerId(lecturer_id));
+        return "lecturer/list_request_open_course";
+    }
+    //**********************************************************************//
+
+    //*********************Edit Request Course****************************//
+    @GetMapping("/{lec_id}/{roc_id}/update_page")
+    public String getRequestCourseDetail(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id, Model model) {
+        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetailToUpdate(roc_id,lec_id);
+        model.addAttribute("title", "แก้ไขคำร้องขอเปิด" + title);
+        model.addAttribute("lecturer", requestOpCourseService.getLecturer());
+        model.addAttribute("courses", courseService.getCourses());
+        model.addAttribute("request_open_course", requestOpenCourse);
+        return "lecturer/update_request_open_course";
+    }
     @PostMapping (path="/{lec_id}/{req_id}/update")
-    public String updateRequest(@PathVariable("lec_id") String lec_id,@PathVariable("req_id") String req_id,@RequestParam Map<String, String> allReqParams) throws ParseException {
-
+    public String doEditRequestCourseDetail(@PathVariable("lec_id") String lec_id,@PathVariable("req_id") String req_id,@RequestParam Map<String, String> allReqParams) throws ParseException {
         SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd"); // เปลี่ยนรูปแบบวันที่ให้ตรงกับ HTML
 
         //boolean requestStatusBool = false;
@@ -149,52 +122,93 @@
 //        String lec_id = existingRequest.getLecturer().getUsername();
         return "redirect:/lecturer/"+ lec_id +"/view_request_open_course/"+ req_id;
     }
-    @GetMapping("/{lecturer_id}/list_request_open_course")
-    public String listCourse(@PathVariable("lecturer_id") String lecturer_id,Model model) {
+    //******************************************************************************//
+
+    //***************************Cancel Course Detail***********************************//
+    @GetMapping("/{lec_id}/{roc_id}/delete_request_open_course")
+    public String doEditCourseActivity(@PathVariable("lec_id")String lec_id,@PathVariable("roc_id") long roc_id) {
+//        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetailToUpdate(roc_id,lec_id);
+        requestOpCourseService.deleteRequestOpenCourse(roc_id,lec_id);
+//        String lec_id = requestOpenCourse.getLecturer().getUsername();
+        System.out.println(lec_id);
+        return "redirect:/lecturer/"+ lec_id +"/list_request_open_course";
+    }
+    //**********************************************************************************//
+
+    //*************************List Approved Course ต้องเพิ่ม หรือป่าว***************************//
+    @GetMapping("/{lecturer_id}/list_Approved_request_open_course")
+    public String getListApprovedCourseDetail(@PathVariable("lecturer_id") String lecturer_id,Model model) {
         model.addAttribute("title", "รายการ");
         model.addAttribute("lecturer_id", lecturer_id);
         model.addAttribute("requests_open_course", requestOpCourseService.getRequestOpenCoursesByLecturerId(lecturer_id));
-        return "lecturer/list_request_open_course";
+        return null;
     }
+    //**********************************************************************//
+
+    //**********************List Members*********************//
     @GetMapping("/{lecturer_id}/{request_id}/list_member_to_approve")
-    public String showListMemberToApprove(@PathVariable("lecturer_id") String lecturer_id,@PathVariable("request_id") long request_id , Model model) {
+    public String getListMembers(@PathVariable("lecturer_id") String lecturer_id,@PathVariable("request_id") long request_id , Model model) {
         List<Register> register = registerService.getRegisterByRequestIdAndPayStatus(request_id);
         model.addAttribute("title","TEST");
         model.addAttribute("registers",register);
         model.addAttribute("lecturer_id",lecturer_id);
         return "lecturer/list_member_approve_course";
     }
-    @GetMapping("/{lec_id}/private/{id}/edit_course_activity_page/{roc_id}")
-    public String showEditCourseActivity(@PathVariable("lec_id") String lec_id,@PathVariable("id") long id,@PathVariable("roc_id") long roc_id, Model model) {
-        Activity activity = activityService.getActivityDetailToUpdate(id,lec_id);
-        model.addAttribute("title", "แก้ไข" + Activity_title + "ทั่วไป");
-        model.addAttribute("activities", activity);
-        model.addAttribute("request_id", roc_id);
-        return "lecturer/edit_Course_Activity";
-    }
+    //***********************************************************//
 
+    //**************************getPrintListMember() IReport*******************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
 
-    @PostMapping (path="/{lec_id}/{id}/update_course_add_activity")
-    public String updateCourseActivity(@PathVariable("lec_id") String lec_id,@PathVariable("id") long ac_id,@RequestParam Map<String, String> allReqParams) throws ParseException {
-//        long existingActivityId = Long.parseLong(ac_id);
-        Activity existingActivity = activityService.getActivityDetailToUpdate(ac_id,lec_id);
-        System.out.println("PASS");
-        if (existingActivity != null) {
-            existingActivity.setName(allReqParams.get("ac_name"));
-            existingActivity.setDetail(allReqParams.get("ac_detail"));
-            existingActivity.setImg(allReqParams.get("ac_img"));
-            activityService.updateActivity(existingActivity);
+    //******************Edit Study Result*****************//
+    @PostMapping(path = "/{request_id}/update_Status_Member_Result/{register_id}")
+    public String doEditStudyResult(
+            @PathVariable("request_id") long request_id,
+            @PathVariable("register_id") long register_id,
+            @RequestParam Map<String, String> allReqParams) throws ParseException {
+
+        String studyResult = allReqParams.get("studyResult");
+        Register register = registerService.getRegisterByRegisterId(register_id);
+        // ตรวจสอบค่า studyResult และดำเนินการตามที่คุณต้องการ
+        if ("ผ่านหลักสูตร".equals(studyResult)) {
+            register.setStudy_result(true);
+        } else if ("ไม่ผ่านหลักสูตร".equals(studyResult)) {
+            register.setStudy_result(false);
         }
-        return "redirect:/lecturer/"+lec_id+"/"+ac_id+"/view_course_activity_page/"+existingActivity.getRequestOpenCourse().getRequest_id();
+        String lec_id = register.getRequestOpenCourse().getLecturer().getUsername();
+        registerService.updateRegister(register);
+
+        return "redirect:/lecturer/" +lec_id+"/"+ request_id + "/list_member_to_approve";
     }
+    //******************************************************//
 
-    @GetMapping("/{lec_id}/{id}/delete")
-    public String deleteActivity(@PathVariable("lec_id") String lec_id,@PathVariable("id") long id) {
-        Activity activity = activityService.getActivityDetail(id);
-            activityService.deleteCourseActivity(id,lec_id);
-            return "redirect:/lecturer/"+lec_id+"/view_approve_request_open_course/"+activity.getRequestOpenCourse().getRequest_id();
-    }
+    //**************************View Sample Certificate*******************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
 
+    //***********************Upload Signature******************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+    //*********************************************************************//
+
+    //*********************Add Course Activity News*********************************//
     @GetMapping("/{roc_id}/add_course_activity")
     public String showFormAddCourseActivity(Model model, @PathVariable("roc_id") long roc_id) {
         RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
@@ -205,7 +219,7 @@
     }
     @Transactional
     @PostMapping (path="/{lec_id}/save_add_course_activity/{roc_id}")
-    public String saveAddRequestCourseActivity(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id,@RequestParam Map<String, String> allReqParams) throws ParseException {
+    public String addCourseActivityNews(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id,@RequestParam Map<String, String> allReqParams) throws ParseException {
         Date ac_date =  new Date();
         String ac_name = allReqParams.get("ac_name");
         String ac_detail = allReqParams.get("ac_detail");
@@ -225,7 +239,91 @@
         activityService.addActivityNews(mergedActivity);
         return "redirect:/lecturer/"+lec_id+"/view_approve_request_open_course/"+roc_id;
     }
+    //**********************************************************************************************//
+
+    //**************************ต้องสร้างเมททอด List Course Activity News****************************//
+    @GetMapping("/list_course_activity_news")
+    public String getListCourseActivityNews() {
+        return null;
+    }
+    //*********************************************************************************************//
+
+    //*************************หลังจาก List แล้วก็เข้าเมทตอทนี้เลย update Course Activity*******************************//
+    //*************************Edit Course Activity*****************************//
+    @GetMapping("/{lec_id}/private/{id}/edit_course_activity_page/{roc_id}")
+    public String getListCourseActivityNews(@PathVariable("lec_id") String lec_id,@PathVariable("id") long id,@PathVariable("roc_id") long roc_id, Model model) {
+        Activity activity = activityService.getActivityDetailToUpdate(id,lec_id);
+        model.addAttribute("title", "แก้ไข" + Activity_title + "ทั่วไป");
+        model.addAttribute("activities", activity);
+        model.addAttribute("request_id", roc_id);
+        return "lecturer/edit_Course_Activity";
+    }
+
+    @PostMapping (path="/{lec_id}/{id}/update_course_add_activity")
+    public String doEditCourseActivity(@PathVariable("lec_id") String lec_id,@PathVariable("id") long ac_id,@RequestParam Map<String, String> allReqParams) throws ParseException {
+//        long existingActivityId = Long.parseLong(ac_id);
+        Activity existingActivity = activityService.getActivityDetailToUpdate(ac_id,lec_id);
+        System.out.println("PASS");
+        if (existingActivity != null) {
+            existingActivity.setName(allReqParams.get("ac_name"));
+            existingActivity.setDetail(allReqParams.get("ac_detail"));
+            existingActivity.setImg(allReqParams.get("ac_img"));
+            activityService.updateActivity(existingActivity);
+        }
+        return "redirect:/lecturer/"+lec_id+"/"+ac_id+"/view_course_activity_page/"+existingActivity.getRequestOpenCourse().getRequest_id();
+    }
+    //*****************************************************************************//
+
+    //***********************Delete Course Activity News***********************//
+    @GetMapping("/{lec_id}/{id}/delete")
+    public String doDeleteCourseActivityNews(@PathVariable("lec_id") String lec_id,@PathVariable("id") long id) {
+        Activity activity = activityService.getActivityDetail(id);
+        activityService.deleteCourseActivity(id,lec_id);
+        return "redirect:/lecturer/"+lec_id+"/view_approve_request_open_course/"+activity.getRequestOpenCourse().getRequest_id();
+    }
+    //****************************************************************************//
+
+
+
+
+
+
+
+
+
+    
+    //******************ไม่ดูแล้ว แก้ไขเลย*******************************//
+    @GetMapping("/{lec_id}/view_request_open_course/{roc_id}")
+    public String showRequestOpenCourse(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id, Model model) {
+        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
+        //model.addAttribute("title", "แก้ไข" + title);
+        model.addAttribute("ROC_detail", requestOpenCourse);
+        model.addAttribute("lec_id", lec_id);
+        return "lecturer/view_request_open_course";
+    }
+
+    @GetMapping("/{lec_id}/view_approve_request_open_course/{roc_id}")
+    public String showRequestApproveOpenCourse(@PathVariable("lec_id") String lec_id,@PathVariable("roc_id") long roc_id, Model model) {
+        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);
+        model.addAttribute("title", "แก้ไข" + title);
+        model.addAttribute("RAOC_detail", requestOpenCourse);
+        model.addAttribute("course_activities",activityService.getActivityDetailByCourseId(roc_id));
+        return "lecturer/view_Approve_request_open_course";
+    }
+    //*******************************************************************//
+    @InitBinder
+    public void initBinder(WebDataBinder dataBinder) {
+        StringTrimmerEditor stringTrimmerEditor = new StringTrimmerEditor(true);
+        dataBinder.registerCustomEditor(String.class, stringTrimmerEditor);
+    }
 
+//    @PostMapping("/update_roc")
+//    public String updateRequestOpCourse(@ModelAttribute("request_open_course") RequestOpenCourse requestOpenCourse) {
+//        System.out.println(requestOpenCourse.getRequest_id());
+//        return "redirect:list_request_open_course";
+//    }
+
+    //**********************ไม่ดูแล้ว แก้ไขเลย**************************************//
     @GetMapping("/{lec_id}/{ac_id}/view_course_activity_page/{roc_id}")
     public String showCourseActivityDetail(@PathVariable("lec_id") String lec_id,@PathVariable("ac_id") long ac_id,@PathVariable("roc_id") long roc_id, Model model) {
         Activity activity = activityService.getActivityDetailToUpdate(ac_id,lec_id);
@@ -234,4 +332,5 @@
         model.addAttribute("request_id", roc_id);
         return "lecturer/view_detail_course_activity";
     }
+    //**********************************************************************//
 }
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ArtifactsWorkspaceSettings\">\r\n    <artifacts-to-build>\r\n      <artifact name=\"sci_mju_lifelonglearning:war exploded\" />\r\n    </artifacts-to-build>\r\n  </component>\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"ac102012-8ffe-4477-8661-38af467b3186\" name=\"Changes\" comment=\"\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Interface\" />\r\n        <option value=\"Jsp File\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"master\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"JpbToolWindowState\">\r\n    <option name=\"isToolWindowVisible\" value=\"false\" />\r\n  </component>\r\n  <component name=\"LogFilters\">\r\n    <option name=\"FILTER_ERRORS\" value=\"false\" />\r\n    <option name=\"FILTER_WARNINGS\" value=\"false\" />\r\n    <option name=\"FILTER_INFO\" value=\"true\" />\r\n    <option name=\"FILTER_DEBUG\" value=\"true\" />\r\n    <option name=\"CUSTOM_FILTER\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"MavenImportPreferences\">\r\n    <option name=\"generalSettings\">\r\n      <MavenGeneralSettings>\r\n        <option name=\"useMavenConfig\" value=\"true\" />\r\n      </MavenGeneralSettings>\r\n    </option>\r\n    <option name=\"importingSettings\">\r\n      <MavenImportingSettings>\r\n        <option name=\"workspaceImportEnabled\" value=\"true\" />\r\n      </MavenImportingSettings>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"2U3ZcyraVQQPxUiwLI5iE2PXuvK\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"flattenPackages\" value=\"true\" />\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n    <option name=\"showMembers\" value=\"true\" />\r\n    <option name=\"showVisibilityIcons\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;D:/Project-Final-2023/Final/science_mju_lifelonglearning/src/main/resources/application.properties&quot;,\r\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;copyright&quot;,\r\n    &quot;spring.configuration.checksum&quot;: &quot;c0faf4302789075769c5234e0e8bc511&quot;,\r\n    &quot;two.files.diff.last.used.file&quot;: &quot;D:/Project-Final-2023/Final/science_mju_lifelonglearning/src/main/resources/application.properties&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\Project-Final-2023\\Final\\science_mju_lifelonglearning\\src\\main\\webapp\" />\r\n      <recent name=\"D:\\Project-Final-2023\\Final\\science_mju_lifelonglearning\\src\\main\\webapp\\static\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Tomcat 9.0.64\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 9.0.64\" ALTERNATIVE_JRE_ENABLED=\"false\" nameIsGenerated=\"true\">\r\n      <option name=\"UPDATING_POLICY\" value=\"restart-server\" />\r\n      <deployment>\r\n        <artifact name=\"sci_mju_lifelonglearning:war exploded\">\r\n          <settings>\r\n            <option name=\"CONTEXT_PATH\" value=\"/sci_mju_lifelonglearning_war_exploded\" />\r\n          </settings>\r\n        </artifact>\r\n      </deployment>\r\n      <server-settings>\r\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"533e9454-7c84-4a78-87e7-8f99d48f7300\" />\r\n      </server-settings>\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\r\n      <predefined_log_file id=\"Tomcat Manager\" />\r\n      <predefined_log_file id=\"Tomcat Host Manager\" />\r\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\r\n      <RunnerSettings RunnerId=\"Debug\">\r\n        <option name=\"DEBUG_PORT\" value=\"62605\" />\r\n      </RunnerSettings>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Profile\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n        <option name=\"BuildArtifacts\" enabled=\"true\">\r\n          <artifact name=\"sci_mju_lifelonglearning:war exploded\" />\r\n        </option>\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"ac102012-8ffe-4477-8661-38af467b3186\" name=\"Changes\" comment=\"\" />\r\n      <created>1692170311558</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1692170311558</updated>\r\n      <workItem from=\"1692170318690\" duration=\"19100000\" />\r\n      <workItem from=\"1692279369411\" duration=\"8816000\" />\r\n      <workItem from=\"1692338966998\" duration=\"5167000\" />\r\n      <workItem from=\"1692346228216\" duration=\"6419000\" />\r\n      <workItem from=\"1692352775593\" duration=\"5812000\" />\r\n      <workItem from=\"1692359427635\" duration=\"343000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"commit\">\r\n      <created>1692351063976</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692351063976</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"commit\">\r\n      <created>1692352885972</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692352885972</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"commit\">\r\n      <created>1692354769685</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692354769685</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"commit\">\r\n      <created>1692355687062</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692355687062</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"commit\">\r\n      <created>1692359263515</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692359263515</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"commit\">\r\n      <created>1692359512180</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692359512180</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"7\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"commit\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"commit\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision a2cc2b8149400ce376f0372127d234ff593636d1)
+++ b/.idea/workspace.xml	(date 1692463040448)
@@ -9,7 +9,13 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="ac102012-8ffe-4477-8661-38af467b3186" name="Changes" comment="" />
+    <list default="true" id="ac102012-8ffe-4477-8661-38af467b3186" name="Changes" comment="">
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/controller/CourseController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/controller/CourseController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/controller/LecturerController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/controller/LecturerController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -24,6 +30,9 @@
       </list>
     </option>
   </component>
+  <component name="Git.Merge.Settings">
+    <option name="BRANCH" value="main" />
+  </component>
   <component name="Git.Settings">
     <option name="RECENT_BRANCH_BY_REPOSITORY">
       <map>
@@ -191,6 +200,7 @@
       <workItem from="1692346228216" duration="6419000" />
       <workItem from="1692352775593" duration="5812000" />
       <workItem from="1692359427635" duration="343000" />
+      <workItem from="1692422706710" duration="14239000" />
     </task>
     <task id="LOCAL-00001" summary="commit">
       <created>1692351063976</created>
Index: src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\r\n<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\r\n<html>\r\n<head>\r\n    <title>${title}</title>\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/list_open_course_style.css\" rel=\"stylesheet\">\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        h1{\r\n            font-family: 'Prompt', sans-serif;\r\n            font-weight: 700 !important;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<div align=\"center\">\r\n    <h1>${title}</h1>\r\n    <h3>รายชื่อผู้ที่ผ่านการสมัคร</h3>\r\n        <table class=\"table table-striped table-hover\">\r\n        <tr style=\"color: black\">\r\n            <td class=\"td_request\">รหัสบัตรประชาชน</td>\r\n            <td class=\"td_edit\">ชื่อ - นามสกุล</td>\r\n            <td class=\"td_cancel\" align=\"center\">สถานะการอบรม</td>\r\n            <td class=\"td_cancel\" align=\"center\"></td>\r\n            <td class=\"td_cancel\" align=\"center\"></td>\r\n        </tr>\r\n        <c:forEach var=\"list\" items=\"${registers}\">\r\n            <form action=\"${pageContext.request.contextPath}/course/${request_id}/update_Status_Member_Result/${list.register_id}\" method=\"POST\">            <tr>\r\n                <td>${list.member.idcard}</td>\r\n                <td>${list.member.firstName} ${list.member.lastName}</td>\r\n                <td align=\"center\">\r\n                    <c:set var=\"color\" value=\"red\"></c:set>\r\n                    <c:set var=\"study_result\" value=\"ไม่ผ่านหลักสูตร\"></c:set>\r\n                    <c:if test=\"${list.study_result == true}\">\r\n                        <c:set var=\"color\" value=\"green\"></c:set>\r\n                        <c:set var=\"study_result\" value=\"ผ่านหลักสูตร\"></c:set>\r\n                    </c:if>\r\n                    <p style=\"color: ${color}\">${study_result}</p>\r\n                </td align=\"center\">\r\n<%--                <td>--%>\r\n<%--                    ${list.invoice.pay_status}--%>\r\n<%--                </td>--%>\r\n                <td align=\"center\">\r\n                    <input type=\"submit\" name=\"studyResult\" value=\"ผ่านหลักสูตร\"/>\r\n                </td>\r\n                <td align=\"center\">\r\n                    <input type=\"submit\" name=\"studyResult\" value=\"ไม่ผ่านหลักสูตร\"/>\r\n                </td>\r\n            </tr>\r\n            </form>\r\n        </c:forEach>\r\n    </table>\r\n    <input type=\"button\" value=\"ย้อนกลับ\"\r\n           onclick=\"window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/list_request_open_course'; return false;\"\r\n           class=\"cancel-button\"/>\r\n</div>\r\n</body>\r\n\r\n<script>\r\n    window.addEventListener('DOMContentLoaded', (event) => {\r\n        var button = document.getElementById('FClick');\r\n        button.click()\r\n    });\r\n    function openList(evt, list_name) {\r\n        var i, tabcontent, tablinks;\r\n        tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n        for (i = 0; i < tabcontent.length; i++) {\r\n            tabcontent[i].style.display = \"none\";\r\n        }\r\n        tablinks = document.getElementsByClassName(\"tablinks\");\r\n        for (i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n        }\r\n        document.getElementById(list_name).style.display = \"block\";\r\n        evt.currentTarget.className += \" active\";\r\n    }\r\n</script>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp b/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp
--- a/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp	(revision a2cc2b8149400ce376f0372127d234ff593636d1)
+++ b/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp	(date 1692458103023)
@@ -26,7 +26,7 @@
             <td class="td_cancel" align="center"></td>
         </tr>
         <c:forEach var="list" items="${registers}">
-            <form action="${pageContext.request.contextPath}/course/${request_id}/update_Status_Member_Result/${list.register_id}" method="POST">            <tr>
+            <form action="${pageContext.request.contextPath}/lecturer/${request_id}/update_Status_Member_Result/${list.register_id}" method="POST">            <tr>
                 <td>${list.member.idcard}</td>
                 <td>${list.member.firstName} ${list.member.lastName}</td>
                 <td align="center">
Index: target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\r\n<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\r\n<html>\r\n<head>\r\n    <title>${title}</title>\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/list_open_course_style.css\" rel=\"stylesheet\">\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        h1{\r\n            font-family: 'Prompt', sans-serif;\r\n            font-weight: 700 !important;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<div align=\"center\">\r\n    <h1>${title}</h1>\r\n    <table class=\"container\">\r\n        <tr align=\"center\">\r\n            <td class=\"lec_detail\" align=\"left\">\r\n                <div class=\"list_course_detail\">\r\n                    <h1>รายการการร้องขอ</h1>\r\n                </div>\r\n            </td>\r\n            <td class=\"list_course\" align=\"left\">\r\n                <div class=\"list_course_detail\" align=\"center\">\r\n                    <h1 align=\"left\">รายการการร้องขอ</h1>\r\n                    <div class=\"hr_line\"></div>\r\n                    <button id=\"FClick\" class=\"tablinks\" onclick=\"openList(event, 'course')\">หลักสูตร</button>\r\n                    <button class=\"tablinks\" onclick=\"window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/add_roc'; return false;\"class=\"add-button\">ร้องขอ</button>\r\n                    <button class=\"tablinks\" onclick=\"openList(event, 'list_request')\">รายการร้องขอ</button>\r\n\r\n                </div>\r\n\r\n                <div id=\"course\" class=\"tabcontent\">\r\n                    <table class=\"table table-striped table-hover\">\r\n                        <tr style=\"color: black\">\r\n                            <td class=\"td_request\">รายละเอียดหลักสูตร</td>\r\n                            <td class=\"td_certificate\" align=\"center\">ตัวอย่างเกียรติบัตร</td>\r\n                            <td class=\"td_edit\" align=\"center\">รายละเอียดคำร้อง</td>\r\n                            <td class=\"td_cancel\" align=\"center\">ยกเลิกการร้องขอ</td>\r\n                        </tr>\r\n\r\n                        <c:forEach var=\"request_course\" items=\"${requests_open_course}\">\r\n                            <c:if test=\"${request_course.requestStatus == 'ผ่าน'}\">\r\n                                <tr style=\"color: black\">\r\n                                    <td><p>${request_course.course.name}</p></td>\r\n                                    <td><p>ดูตัวอย่าง</p></td>\r\n                                    <td align=\"center\"><a href=\"${pageContext.request.contextPath}/lecturer/${lecturer_id}/view_approve_request_open_course/${request_course.request_id}\">ดูรายละเอียด</a></td>\r\n                                    <td align=\"center\">\r\n                                        <input type=\"button\" value=\"ผู้สมัคร\"\r\n                                               onclick=\"window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/${request_course.request_id}/list_member_to_approve'; return false;\"\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                            </c:if>\r\n                        </c:forEach>\r\n                    </table>\r\n                </div>\r\n\r\n                <div id=\"request\" class=\"tabcontent\">\r\n                    <h3>Paris</h3>\r\n                    <p>Paris is the capital of France.</p>\r\n                </div>\r\n\r\n                <div id=\"list_request\" class=\"tabcontent\">\r\n                    <table class=\"table table-striped table-hover\">\r\n                        <tr style=\"color: black\">\r\n                            <td class=\"td_request\">รายละเอียดการร้องขอ</td>\r\n                            <td class=\"td_edit\" align=\"center\">รายละเอียดคำร้อง</td>\r\n                            <td class=\"td_cancel\" align=\"center\">ยกเลิกการร้องขอ</td>\r\n                        </tr>\r\n\r\n                        <c:forEach var=\"request_course\" items=\"${requests_open_course}\">\r\n                            <c:if test=\"${request_course.requestStatus == 'รอดำเนินการ'}\">\r\n                                <tr style=\"color: black\">\r\n                                    <td><p>${request_course.course.name}</p></td>\r\n                                    <td align=\"center\"><a href=\"${pageContext.request.contextPath}/lecturer/${lecturer_id}/view_request_open_course/${request_course.request_id}\">ดูรายละเอียด</a></td>\r\n                                    <td align=\"center\">\r\n                                        <input type=\"button\" value=\"ยกเลิก\"\r\n                                               onclick=\"if((confirm('คุณแน่ใจหรือว่าต้องการลบการร้องขอนี้?'))) { window.location.href='${pageContext.request.contextPath}/lecturer/${request_course.request_id}/delete'; return false; }\"\r\n                                               class=\"cancel-button\"/>\r\n                                    </td>\r\n                                </tr>\r\n                            </c:if>\r\n                        </c:forEach>\r\n                    </table>\r\n                </div>\r\n\r\n            </td>\r\n        </tr>\r\n\r\n    </table>\r\n\r\n</div>\r\n</body>\r\n\r\n<script>\r\n    window.addEventListener('DOMContentLoaded', (event) => {\r\n        var button = document.getElementById('FClick');\r\n        button.click()\r\n    });\r\n    function openList(evt, list_name) {\r\n        var i, tabcontent, tablinks;\r\n        tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n        for (i = 0; i < tabcontent.length; i++) {\r\n            tabcontent[i].style.display = \"none\";\r\n        }\r\n        tablinks = document.getElementsByClassName(\"tablinks\");\r\n        for (i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n        }\r\n        document.getElementById(list_name).style.display = \"block\";\r\n        evt.currentTarget.className += \" active\";\r\n    }\r\n</script>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp b/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp
--- a/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp	(revision a2cc2b8149400ce376f0372127d234ff593636d1)
+++ b/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp	(date 1692460080099)
@@ -79,7 +79,7 @@
                                     <td align="center"><a href="${pageContext.request.contextPath}/lecturer/${lecturer_id}/view_request_open_course/${request_course.request_id}">ดูรายละเอียด</a></td>
                                     <td align="center">
                                         <input type="button" value="ยกเลิก"
-                                               onclick="if((confirm('คุณแน่ใจหรือว่าต้องการลบการร้องขอนี้?'))) { window.location.href='${pageContext.request.contextPath}/lecturer/${request_course.request_id}/delete'; return false; }"
+                                               onclick="if((confirm('คุณแน่ใจหรือว่าต้องการลบการร้องขอนี้?'))) { window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/${request_course.request_id}/delete_request_open_course'; return false; }"
                                                class="cancel-button"/>
                                     </td>
                                 </tr>
Index: target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\r\n<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\r\n<html>\r\n<head>\r\n    <title>${title}</title>\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/list_open_course_style.css\" rel=\"stylesheet\">\r\n    <link href=\"${pageContext.request.contextPath}/assets/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    <style>\r\n        h1{\r\n            font-family: 'Prompt', sans-serif;\r\n            font-weight: 700 !important;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<div align=\"center\">\r\n    <h1>${title}</h1>\r\n    <h3>รายชื่อผู้ที่ผ่านการสมัคร</h3>\r\n        <table class=\"table table-striped table-hover\">\r\n        <tr style=\"color: black\">\r\n            <td class=\"td_request\">รหัสบัตรประชาชน</td>\r\n            <td class=\"td_edit\">ชื่อ - นามสกุล</td>\r\n            <td class=\"td_cancel\" align=\"center\">สถานะการอบรม</td>\r\n            <td class=\"td_cancel\" align=\"center\"></td>\r\n            <td class=\"td_cancel\" align=\"center\"></td>\r\n        </tr>\r\n        <c:forEach var=\"list\" items=\"${registers}\">\r\n            <form action=\"${pageContext.request.contextPath}/course/${request_id}/update_Status_Member_Result/${list.register_id}\" method=\"POST\">            <tr>\r\n                <td>${list.member.idcard}</td>\r\n                <td>${list.member.firstName} ${list.member.lastName}</td>\r\n                <td align=\"center\">\r\n                    <c:set var=\"color\" value=\"red\"></c:set>\r\n                    <c:set var=\"study_result\" value=\"ไม่ผ่านหลักสูตร\"></c:set>\r\n                    <c:if test=\"${list.study_result == true}\">\r\n                        <c:set var=\"color\" value=\"green\"></c:set>\r\n                        <c:set var=\"study_result\" value=\"ผ่านหลักสูตร\"></c:set>\r\n                    </c:if>\r\n                    <p style=\"color: ${color}\">${study_result}</p>\r\n                </td align=\"center\">\r\n<%--                <td>--%>\r\n<%--                    ${list.invoice.pay_status}--%>\r\n<%--                </td>--%>\r\n                <td align=\"center\">\r\n                    <input type=\"submit\" name=\"studyResult\" value=\"ผ่านหลักสูตร\"/>\r\n                </td>\r\n                <td align=\"center\">\r\n                    <input type=\"submit\" name=\"studyResult\" value=\"ไม่ผ่านหลักสูตร\"/>\r\n                </td>\r\n            </tr>\r\n            </form>\r\n        </c:forEach>\r\n    </table>\r\n    <input type=\"button\" value=\"ย้อนกลับ\"\r\n           onclick=\"window.location.href='${pageContext.request.contextPath}/lecturer/${lecturer_id}/list_request_open_course'; return false;\"\r\n           class=\"cancel-button\"/>\r\n</div>\r\n</body>\r\n\r\n<script>\r\n    window.addEventListener('DOMContentLoaded', (event) => {\r\n        var button = document.getElementById('FClick');\r\n        button.click()\r\n    });\r\n    function openList(evt, list_name) {\r\n        var i, tabcontent, tablinks;\r\n        tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n        for (i = 0; i < tabcontent.length; i++) {\r\n            tabcontent[i].style.display = \"none\";\r\n        }\r\n        tablinks = document.getElementsByClassName(\"tablinks\");\r\n        for (i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n        }\r\n        document.getElementById(list_name).style.display = \"block\";\r\n        evt.currentTarget.className += \" active\";\r\n    }\r\n</script>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp b/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp
--- a/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp	(revision a2cc2b8149400ce376f0372127d234ff593636d1)
+++ b/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp	(date 1692458103023)
@@ -26,7 +26,7 @@
             <td class="td_cancel" align="center"></td>
         </tr>
         <c:forEach var="list" items="${registers}">
-            <form action="${pageContext.request.contextPath}/course/${request_id}/update_Status_Member_Result/${list.register_id}" method="POST">            <tr>
+            <form action="${pageContext.request.contextPath}/lecturer/${request_id}/update_Status_Member_Result/${list.register_id}" method="POST">            <tr>
                 <td>${list.member.idcard}</td>
                 <td>${list.member.firstName} ${list.member.lastName}</td>
                 <td align="center">

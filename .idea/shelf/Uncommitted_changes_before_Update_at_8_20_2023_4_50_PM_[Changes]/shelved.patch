Index: src/main/java/lifelong/controller/CourseController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.controller;\r\n\r\nimport lifelong.model.*;\r\nimport lifelong.service.*;\r\nimport org.apache.commons.fileupload.servlet.ServletFileUpload;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.io.*;\r\nimport java.net.URL;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport utils.ImgPath;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\n@Controller\r\n@RequestMapping(\"/course\")\r\npublic class CourseController {\r\n    private String title = \"หลักสูตร\";\r\n\r\n    @Autowired\r\n    private CourseService courseService;\r\n    @Autowired\r\n    private MajorService majorService;\r\n    @Autowired\r\n    private RequestOpCourseService requestOpCourseService;\r\n\r\n    @Autowired\r\n    private ActivityService activityService;\r\n    @Autowired\r\n    private RegisterService registerService;\r\n\r\n    @Autowired\r\n    private PaymentService paymentService;\r\n\r\n    //**************Add Course***********//\r\n    @GetMapping(\"/add_course\")\r\n    public String showFormAddCourse(Model model) {\r\n        model.addAttribute(\"title\", \"เพิ่ม\" + title);\r\n        model.addAttribute(\"majors\", majorService.getMajors());\r\n        model.addAttribute(\"add_course\", new Course());\r\n        return \"admin/addCourse\";\r\n    }\r\n\r\n    @PostMapping(path = \"/admin/save\")\r\n    public String doAddCourse(@RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        String course_id = allReqParams.get(\"course_id\");\r\n        String course_name = allReqParams.get(\"course_name\");\r\n        String certificateName = allReqParams.get(\"certificateName\");\r\n        String course_img = allReqParams.get(\"course_img\");\r\n        String course_principle = allReqParams.get(\"course_principle\");\r\n        String course_object = allReqParams.get(\"course_object\");\r\n        int course_totalHours = Integer.parseInt(allReqParams.get(\"course_totalHours\"));\r\n        String course_targetOccupation = allReqParams.get(\"course_targetOccupation\");\r\n        double course_fee = Double.parseDouble(allReqParams.get(\"course_fee\"));\r\n        String course_file = allReqParams.get(\"course_file\");\r\n        String course_status = allReqParams.get(\"course_status\");\r\n        String course_linkMooc = allReqParams.get(\"course_linkMooc\");\r\n        String course_type = allReqParams.get(\"course_type\");\r\n        Major major = majorService.getMajorDetail(allReqParams.get(\"major_id\"));\r\n\r\n        Course course_add = new Course(course_id, course_name, certificateName, course_img, course_principle, course_object, course_totalHours,\r\n                course_targetOccupation, course_fee, course_file, course_status, course_linkMooc, course_type, major);\r\n        courseService.doAddCourse(course_add);\r\n        return \"redirect:/\";\r\n    }\r\n    //***********************************************//\r\n\r\n    //**********Approve Request Open Course*******************//\r\n    @GetMapping(\"/view_request_open_course/{request_id}\")\r\n    public String getListRequestOpenCourse(@PathVariable(\"request_id\") long request_id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);\r\n        model.addAttribute(\"title\", \"ดูข้อมูลการร้องขอ\");\r\n        model.addAttribute(\"ROC_detail\", requestOpenCourse);\r\n        return \"admin/view_request_open_course_by_admin\";\r\n    }\r\n\r\n    @PostMapping(path = \"/view_request_open_course/{request_id}/approve\")\r\n    public String doApproveRequest(@PathVariable(\"request_id\") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        if (existingRequestOpenCourse != null) {\r\n            existingRequestOpenCourse.setRequestStatus(\"ผ่าน\");\r\n            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);\r\n        }\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n    //******************************************************//\r\n\r\n    //**********List All Course************//\r\n    @GetMapping(\"/list_all_course\")\r\n    public String getListAllCourse(Model model) {\r\n        model.addAttribute(\"title\", \"รายการ\" + title);\r\n        model.addAttribute(\"courses\", courseService.getCourses());\r\n        model.addAttribute(\"requests_open_course\", requestOpCourseService.getRequestOpenCourses());\r\n        model.addAttribute(\"list_activities\", activityService.getPublicActivity());\r\n        return \"admin/listAllCourse\";\r\n    }\r\n    //**********************************************//\r\n\r\n    //**************Edit Course*******************//\r\n    @GetMapping(\"/{id}/edit_course\")\r\n    public String getCourse(@PathVariable(\"id\") String id, Model model) {\r\n        Course course = courseService.getCourseById(id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"majors\", majorService.getMajors());\r\n        model.addAttribute(\"course\", course);\r\n        return \"admin/editCourse\";\r\n    }\r\n\r\n    @PostMapping(path = \"/{id}/update_edit_course\")\r\n    public String doEditCourse(@PathVariable(\"id\") String course_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        Course existingCourse = courseService.getCourseById(course_id);\r\n        if (existingCourse != null) {\r\n            existingCourse.setCourse_id(allReqParams.get(\"course_id\"));\r\n            existingCourse.setName(allReqParams.get(\"course_name\"));\r\n            existingCourse.setCertificateName(allReqParams.get(\"certificateName\"));\r\n            existingCourse.setImg(allReqParams.get(\"course_img\"));\r\n            existingCourse.setPrinciple(allReqParams.get(\"course_principle\"));\r\n            existingCourse.setObject(allReqParams.get(\"course_object\"));\r\n            existingCourse.setTotalHours(Integer.parseInt(allReqParams.get(\"course_totalHours\")));\r\n            existingCourse.setTargetOccupation(allReqParams.get(\"course_targetOccupation\"));\r\n            existingCourse.setFee(Double.parseDouble(allReqParams.get(\"course_fee\")));\r\n            existingCourse.setFile(allReqParams.get(\"course_file\"));\r\n            existingCourse.setStatus(allReqParams.get(\"course_status\"));\r\n            existingCourse.setLinkMooc(allReqParams.get(\"course_linkMooc\"));\r\n            existingCourse.setCourse_type(allReqParams.get(\"course_type\"));\r\n            existingCourse.setMajor(majorService.getMajorDetail(allReqParams.get(\"major_id\")));\r\n            courseService.updateCourse(existingCourse);\r\n        }\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n    //************************************************************//\r\n\r\n    //*****************Approve Member to Course******************//\r\n    @GetMapping(\"/{roc_id}/list_member_to_course\")\r\n    public String showListMemberToRequestCourse(@PathVariable(\"roc_id\") long roc_id, Model model) {\r\n        List<Register> register = registerService.getRegisterByRequestId(roc_id);\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"register_detail\", register);\r\n        model.addAttribute(\"request_name\", requestOpenCourse);\r\n        return \"admin/list_Approve_member_to_course\";\r\n    }\r\n\r\n    @GetMapping(\"/{request_id}/view_payment_detail/{invoice_id}\")\r\n    public String showPaymentDetailToApprove(@PathVariable(\"request_id\") long request_id, @PathVariable(\"invoice_id\") long invoiceId, Model model) {\r\n        Receipt receipt = paymentService.getReceiptByInvoiceId(invoiceId);\r\n        model.addAttribute(\"payment\", receipt);\r\n        model.addAttribute(\"request_id\", request_id);\r\n        return \"admin/view_payment_detail\";\r\n    }\r\n    @PostMapping(path = \"/{request_id}/view_payment_detail/{invoice_id}/approve\")\r\n    public String updatePaymentStatus(@PathVariable(\"request_id\") long request_id, @PathVariable(\"invoice_id\") long invoice_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        Invoice invoice = paymentService.getInvoiceById(invoice_id);\r\n        if (invoice != null) {\r\n            invoice.setApprove_status(\"ผ่าน\");\r\n            paymentService.updateInvoice(invoice);\r\n        }\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n    //*******************************************************************//\r\n\r\n    //**************Add Activity News************************//\r\n    @GetMapping(\"/public/add_activity\")\r\n    public String showFormAddActivity(Model model) {\r\n        model.addAttribute(\"title\", \"เพิ่ม\" + title);\r\n//        model.addAttribute(\"add_public_activity\", new Activity());\r\n        return \"admin/add_Public_Activity\";\r\n    }\r\n\r\n    @PostMapping(path = \"/admin/save_public_add_activity\")\r\n    public String addActivityNews(@RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        String ac_name = allReqParams.get(\"ac_name\");\r\n        Date ac_date = new Date();\r\n        String ac_detail = allReqParams.get(\"ac_detail\");\r\n        String ac_type = \"Public\";\r\n        String ac_img = allReqParams.get(\"ac_img\");\r\n\r\n        Activity public_activity_add = new Activity(ac_name, ac_date, ac_detail, ac_type, ac_img);\r\n        activityService.addActivityNews(public_activity_add);\r\n        return \"redirect:/course/list_all_course\";\r\n    }\r\n    //*********************************************************//\r\n\r\n    //**********List Activity News******************//\r\n    @GetMapping(\"/public/list_activity\")\r\n    public String getListActivityNews(Model model) {\r\n        model.addAttribute(\"title\", \"รายการ\" + title);\r\n        model.addAttribute(\"list_activities\", activityService.getPublicActivity());\r\n        return \"admin/list_Public_Activity\";\r\n    }\r\n    //************************************************//\r\n\r\n    //**********ไม่มีแล้ว*************************//\r\n    @GetMapping(\"/public/{id}/view_page\")\r\n    public String showActivityDetail(@PathVariable(\"id\") long id, Model model) {\r\n        Activity activity = activityService.getActivityDetail(id);\r\n        model.addAttribute(\"title\", \"รายละเอียด\" + title + \"ทั่วไป\");\r\n        model.addAttribute(\"activities\", activity);\r\n        return \"admin/view_detail_public_activity\";\r\n    }\r\n    //******************************************//\r\n\r\n    //********Edit Activity News (ต่อ List Activity)******************//\r\n    @GetMapping(\"/public/{id}/edit_page\")\r\n    public String getListActivityNews(@PathVariable(\"id\") long id, Model model) {\r\n        Activity activity = activityService.getActivityDetail(id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title + \"ทั่วไป\");\r\n        model.addAttribute(\"activities\", activity);\r\n        return \"admin/edit_Public_Activity\";\r\n    }\r\n\r\n    @PostMapping(path = \"/{id}/update_public_add_activity\")\r\n    public String doEditActivityNews(@PathVariable(\"id\") String ac_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n        long existingActivityId = Long.parseLong(ac_id);\r\n        Activity existingActivity = activityService.getActivityDetail(existingActivityId);\r\n        System.out.println(\"PASS\");\r\n        if (existingActivity != null) {\r\n            existingActivity.setName(allReqParams.get(\"ac_name\"));\r\n            existingActivity.setDetail(allReqParams.get(\"ac_detail\"));\r\n            existingActivity.setImg(allReqParams.get(\"ac_img\"));\r\n            activityService.updateActivity(existingActivity);\r\n        }\r\n        return \"redirect:/course/public/\" + ac_id + \"/view_page\";\r\n    }\r\n    //**********************************************//\r\n\r\n    //***************Delete Activity News********************//\r\n    @GetMapping(\"/delete\")\r\n    public String doDeleteActivityNews() {\r\n        return null;\r\n    }\r\n    //*******************************************************//\r\n\r\n//    //************************ลบทิ้งมันเกินที่คิดไว้*******************************//\r\n//    @GetMapping(\"/note_cancel_request_open_course/{request_id}\")\r\n//    public String noteCancelRequestOpenCourse(@PathVariable(\"request_id\") long request_id, Model model) {\r\n//        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(request_id);\r\n//        model.addAttribute(\"ROC_detail\", requestOpenCourse);\r\n//        return \"admin/note_not_pass_detail\";\r\n//    }\r\n//\r\n//    @PostMapping(path = \"/note_cancel_request_open_course/{request_id}/cancel\")\r\n//    public String cancelRequestOpenCourse(@PathVariable(\"request_id\") long roc_id, @RequestParam Map<String, String> allReqParams) throws ParseException {\r\n//        RequestOpenCourse existingRequestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(roc_id);\r\n//        if (existingRequestOpenCourse != null) {\r\n//            existingRequestOpenCourse.setRequestStatus(\"ไม่ผ่าน\");\r\n//            existingRequestOpenCourse.setNote(allReqParams.get(\"cancelReason\"));\r\n//            requestOpCourseService.updateRequestOpenCourse(existingRequestOpenCourse);\r\n//        }\r\n//        return \"redirect:/course/list_all_course\";\r\n//    }\r\n//    //*******************************************************//\r\n\r\n    //*********************Comment**************************//\r\n    @GetMapping(\"/{id}/course_detail\")\r\n    public String showCourseDetailByAdmin(@PathVariable(\"id\") String id, Model model) {\r\n        Course course = courseService.getCourseDetail(id);\r\n        model.addAttribute(\"title\", \"รายละเอียด\" + title);\r\n        model.addAttribute(\"course_detail\", course);\r\n        return \"admin/course_detail_by_admin\";\r\n    }\r\n\r\n    @GetMapping(\"/view_approve_request_open_course/{id}\")\r\n    public String showRequestApproveOpenCourse(@PathVariable(\"id\") long id, Model model) {\r\n        RequestOpenCourse requestOpenCourse = requestOpCourseService.getRequestOpenCourseDetail(id);\r\n        model.addAttribute(\"title\", \"แก้ไข\" + title);\r\n        model.addAttribute(\"RAOC_detail\", requestOpenCourse);\r\n        return \"admin/view_Approve_request_open_course_by_admin\";\r\n    }\r\n    //*******************************************************//\r\n\r\n//    @GetMapping(\"/{roc_id}/list_course_activity\")\r\n//    public String listCourseActivity(Model model, @PathVariable(\"roc_id\") long roc_id) {\r\n//        model.addAttribute(\"title\", \"รายการ\" + title);\r\n//        model.addAttribute(\"list_activities\", activityService.getPublicActivity());\r\n//        return \"admin/list_Public_Activity\";\r\n//    }\r\n\r\n\r\n    @GetMapping(\"/add_img\")\r\n    public String addImg(Model model) {\r\n        model.addAttribute(\"list_img\",courseService.getAddImg());\r\n        return \"admin/add_img\";\r\n    }\r\n\r\n    @Autowired\r\n    private ServletContext servletContext;\r\n\r\n    @PostMapping(\"/addImg\")\r\n    public String addImg(@RequestParam(\"detail\") String detail, @RequestParam(\"file\") MultipartFile file) {\r\n        try {\r\n\r\n            // กำหนด path ที่จะบันทึกไฟล์\r\n            String uploadPath = ImgPath.pathImg + \"/addImg/\";\r\n\r\n            // ตรวจสอบและสร้างโฟลเดอร์ถ้าไม่มี\r\n            Path directoryPath = Paths.get(uploadPath);\r\n            Files.createDirectories(directoryPath);\r\n\r\n            // ดึงนามสกุลไฟล์จากชื่อไฟล์\r\n            String originalFileName = file.getOriginalFilename();\r\n            String fileExtension = getFileExtension(originalFileName);\r\n            int latestFileCount = courseService.getLatestFileCount(); // แทนที่ด้วยเมธอดหรือวิธีที่คุณใช้ในการดึงข้อมูลล่าสุด\r\n\r\n            // สร้างรหัสไฟล์ใหม่ในรูปแบบ \"IMG_0001\", \"IMG_0002\", ...\r\n            String newFileName = String.format(\"IMG_%04d%s\", ++latestFileCount, fileExtension);\r\n\r\n            // บันทึกไฟล์ลงในโฟลเดอร์ที่ใช้เพื่อแสดงผลในเว็บ\r\n            Path filePath = Paths.get(uploadPath, newFileName);\r\n            Files.write(filePath, file.getBytes());\r\n\r\n            // บันทึก path ไปยังฐานข้อมูล\r\n            AddImg newImg = new AddImg(detail, newFileName);\r\n            courseService.doAddImg(newImg);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return \"redirect:/\"; // หรือไปยังหน้าที่คุณต้องการ\r\n    }\r\n\r\n    // รับนามสกุลไฟล์จากชื่อไฟล์\r\n    private String getFileExtension(String fileName) {\r\n        int dotIndex = fileName.lastIndexOf('.');\r\n        if (dotIndex > 0 && dotIndex < fileName.length() - 1) {\r\n            return fileName.substring(dotIndex);\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/controller/CourseController.java b/src/main/java/lifelong/controller/CourseController.java
--- a/src/main/java/lifelong/controller/CourseController.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/java/lifelong/controller/CourseController.java	(date 1692524385647)
@@ -56,26 +56,58 @@
     }
 
     @PostMapping(path = "/admin/save")
-    public String doAddCourse(@RequestParam Map<String, String> allReqParams) throws ParseException {
-        String course_id = allReqParams.get("course_id");
+    public String doAddCourse(@RequestParam Map<String, String> allReqParams,@RequestParam("course_img") MultipartFile img) throws ParseException {
         String course_name = allReqParams.get("course_name");
         String certificateName = allReqParams.get("certificateName");
-        String course_img = allReqParams.get("course_img");
         String course_principle = allReqParams.get("course_principle");
         String course_object = allReqParams.get("course_object");
         int course_totalHours = Integer.parseInt(allReqParams.get("course_totalHours"));
         String course_targetOccupation = allReqParams.get("course_targetOccupation");
         double course_fee = Double.parseDouble(allReqParams.get("course_fee"));
         String course_file = allReqParams.get("course_file");
-        String course_status = allReqParams.get("course_status");
+        String course_status = "ยังไม่เปิดสอน";
         String course_linkMooc = allReqParams.get("course_linkMooc");
+
         String course_type = allReqParams.get("course_type");
+
         Major major = majorService.getMajorDetail(allReqParams.get("major_id"));
 
-        Course course_add = new Course(course_id, course_name, certificateName, course_img, course_principle, course_object, course_totalHours,
-                course_targetOccupation, course_fee, course_file, course_status, course_linkMooc, course_type, major);
-        courseService.doAddCourse(course_add);
-        return "redirect:/";
+        try {
+
+            // กำหนด path ที่จะบันทึกไฟล์
+            String uploadPath = ImgPath.pathImg + "/course_img/";
+
+            // ตรวจสอบและสร้างโฟลเดอร์ถ้าไม่มี
+            Path directoryPath = Paths.get(uploadPath);
+            Files.createDirectories(directoryPath);
+
+            // ดึงนามสกุลไฟล์จากชื่อไฟล์
+            String originalFileName = img.getOriginalFilename();
+            String fileExtension = getFileExtension(originalFileName);
+
+            int latestFileCount = courseService.getImgCourseMaxId(course_type); // แทนที่ด้วยเมธอดหรือวิธีที่คุณใช้ในการดึงข้อมูลล่าสุด
+
+            String course_img = "";
+            if (Objects.equals(course_type, "หลักสูตรอบรมระยะสั้น")){
+                // สร้างรหัสไฟล์ใหม่ในรูปแบบ "C_IMG0001", "C_IMG0002", ...
+                course_img = String.format("C_IMG%04d%s", ++latestFileCount, fileExtension);
+            }else {
+                // สร้างรหัสไฟล์ใหม่ในรูปแบบ "N_IMG0001", "N_IMG0002", ...
+                course_img = String.format("N_IMG%04d%s", ++latestFileCount, fileExtension);
+            }
+
+            // บันทึกไฟล์ลงในโฟลเดอร์ที่ใช้เพื่อแสดงผลในเว็บ
+            Path filePath = Paths.get(uploadPath, course_img);
+            Files.write(filePath, img.getBytes());
+
+            // บันทึก path ไปยังฐานข้อมูล
+            Course course_add = new Course(course_name, certificateName, course_img, course_principle, course_object, course_totalHours,
+                    course_targetOccupation, course_fee, course_file, course_status, course_linkMooc, course_type, major);
+            courseService.doAddCourse(course_add);
+        } catch (IOException e) {
+            e.printStackTrace();
+        }
+        return "redirect:/course/list_all_course";
     }
     //***********************************************//
 
Index: src/main/java/lifelong/service/CourseServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.service;\r\n\r\nimport lifelong.dao.CourseDao;\r\nimport lifelong.model.AddImg;\r\nimport lifelong.model.Course;\r\nimport lifelong.model.Major;\r\nimport lifelong.model.RequestOpenCourse;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class CourseServiceImpl implements CourseService{\r\n\r\n    @Autowired\r\n    private CourseDao couresDao;\r\n    @Override\r\n    @Transactional\r\n    public List<Course> getCourses() {\r\n        return couresDao.getCourses();\r\n    }\r\n\r\n    @Override\r\n    public List<RequestOpenCourse> getListRequestOpCourse() {\r\n        return couresDao.getListRequestOpCourse();\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public List<AddImg> getAddImg() {\r\n        return couresDao.getAddImg();\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public Course getCourseDetail(String courseId) {\r\n        return couresDao.getCourseDetail(courseId);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public Course getCourseById(String course_id) {\r\n        return couresDao.getCourseById(course_id);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public List<Course> getCoursesByName(String courseName) {\r\n        return couresDao.getCoursesByName(courseName);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public String[] getCourseDetailObject(String courseId) {\r\n        return couresDao.getCourseDetailObject(courseId);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void doAddCourse(Course course) {\r\n        couresDao.doAddCourse(course);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void doAddImg(AddImg addImg) {\r\n        couresDao.doAddImg(addImg);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void doAddMajor(Major major) {\r\n        couresDao.doAddMajor(major);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void updateCourse(Course course) {\r\n        couresDao.updateCourse(course);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public int getLatestFileCount() {\r\n        return couresDao.getLatestFileCount();\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/service/CourseServiceImpl.java b/src/main/java/lifelong/service/CourseServiceImpl.java
--- a/src/main/java/lifelong/service/CourseServiceImpl.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/java/lifelong/service/CourseServiceImpl.java	(date 1692520970539)
@@ -10,6 +10,7 @@
 import org.springframework.transaction.annotation.Transactional;
 
 import java.util.List;
+import java.util.Objects;
 
 @Service
 public class CourseServiceImpl implements CourseService{
@@ -60,6 +61,9 @@
     @Override
     @Transactional
     public void doAddCourse(Course course) {
+        String course_type = course.getCourse_type();
+        long id = couresDao.getCourseMaxId(course_type);
+        course.setCourse_id(generateMacCourseId(id + 1,course_type));
         couresDao.doAddCourse(course);
     }
 
@@ -86,4 +90,22 @@
     public int getLatestFileCount() {
         return couresDao.getLatestFileCount();
     }
+
+    @Override
+    @Transactional
+    public int getImgCourseMaxId(String course_type) {
+        return couresDao.getImgCourseMaxId(course_type);
+    }
+
+    public String generateMacCourseId (long id,String course_type) {
+        String result = String.valueOf(id);
+        while (result.length() != 3) {
+            result = "0" + result;
+        }
+        if (Objects.equals(course_type, "หลักสูตรอบรมระยะสั้น")){
+            return "C" + result;
+        }else {
+            return "N" + result;
+        }
+    }
 }
Index: src/main/java/lifelong/dao/CourseDaoImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.dao;\r\n\r\nimport lifelong.model.AddImg;\r\nimport lifelong.model.Course;\r\nimport lifelong.model.Major;\r\nimport lifelong.model.RequestOpenCourse;\r\nimport org.hibernate.query.Query;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic class CourseDaoImpl implements CourseDao {\r\n    @Autowired\r\n    private SessionFactory sessionFactory;\r\n    @Override\r\n    public List<Course> getCourses() {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query<Course> query = session.createQuery(\"from Course \",Course.class);\r\n        List<Course> courses = query.getResultList();\r\n        return courses;\r\n    }\r\n\r\n    @Override\r\n    public List<RequestOpenCourse> getListRequestOpCourse() {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query<RequestOpenCourse> query = session.createQuery(\"from RequestOpenCourse \",RequestOpenCourse.class);\r\n        List<RequestOpenCourse> list = query.getResultList();\r\n        return list;\r\n    }\r\n\r\n    @Override\r\n    public List<AddImg> getAddImg() {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query<AddImg> query = session.createQuery(\"from AddImg \",AddImg.class);\r\n        List<AddImg> addImgs = query.getResultList();\r\n        return addImgs;\r\n    }\r\n\r\n    @Override\r\n    public Course getCourseDetail(String id) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Course course = session.get(Course.class, id);\r\n        return course;\r\n    }\r\n\r\n    @Override\r\n    public int getLatestFileCount() {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query<Long> query = session.createQuery(\"SELECT MAX(id) FROM AddImg\", Long.class);\r\n        Long result = query.uniqueResult();\r\n        return result != null ? result.intValue() : 0; // ถ้าไม่พบข้อมูลให้ส่งค่า 0 แทน\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public Course getCourseById(String course_id) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query<Course> query = session.createQuery(\"FROM Course c WHERE c.course_id =: cId\", Course.class);\r\n        query.setParameter(\"cId\", course_id);\r\n        Course course = query.getSingleResult();\r\n        return course;\r\n    }\r\n\r\n    @Override\r\n    public String[] getCourseDetailObject(String id) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Course course = session.get(Course.class, id);\r\n        String object = course.getObject();\r\n        String[] parts = object.split(\"2\");\r\n        return parts;\r\n    }\r\n\r\n    @Override\r\n    public List<Course> getCoursesByName(String courseName) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query<Course> query = session.createQuery(\"FROM Course c WHERE c.major.name =: cN\", Course.class);\r\n        query.setParameter(\"cN\", courseName);\r\n        System.out.println(\"FOUND : \" + query.getResultList().size());\r\n        System.out.println(\"FOUND : \" + query.getResultList());\r\n        return query.getResultList();\r\n    }\r\n\r\n    @Override\r\n    public void doAddCourse(Course course) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        session.saveOrUpdate(course);\r\n    }\r\n\r\n    @Override\r\n    public void doAddMajor(Major major) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        session.saveOrUpdate(major);\r\n    }\r\n\r\n    @Override\r\n    public void doAddImg(AddImg addImg) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        session.saveOrUpdate(addImg);\r\n    }\r\n\r\n//    @Override\r\n//    public Course getCourse(String courseId) {\r\n//        Session session = sessionFactory.getCurrentSession();\r\n//        Course course = session.get(Course.class, courseId);\r\n//        return course;\r\n//    }\r\n\r\n    @Override\r\n    public Course updateCourse(Course course) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        session.saveOrUpdate(course);\r\n        return course;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/dao/CourseDaoImpl.java b/src/main/java/lifelong/dao/CourseDaoImpl.java
--- a/src/main/java/lifelong/dao/CourseDaoImpl.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/java/lifelong/dao/CourseDaoImpl.java	(date 1692523395085)
@@ -11,6 +11,7 @@
 import org.springframework.stereotype.Repository;
 
 import java.util.List;
+import java.util.Objects;
 
 @Repository
 public class CourseDaoImpl implements CourseDao {
@@ -116,4 +117,74 @@
         session.saveOrUpdate(course);
         return course;
     }
+//    @Override
+//    public String getCourseMaxId() {
+//        Session session = sessionFactory.getCurrentSession();
+//        Query<String> query = session.createQuery("SELECT MAX(id) FROM Course", String.class);
+//        return query.getSingleResult();
+//    }
+@Override
+public int getCourseMaxId(String course_type) {
+    Session session = sessionFactory.getCurrentSession();
+    Query<String> query;
+    if (Objects.equals(course_type, "หลักสูตรอบรมระยะสั้น")) {
+        // ดึงค่ามากสุดที่มีตัวอักษรเริ่มต้นด้วย "C"
+        query = session.createQuery(
+                "SELECT MAX(c.id) FROM Course c " +
+                        "WHERE c.id LIKE 'C%'",
+                String.class
+        );
+    } else {
+        // ดึงค่ามากสุดที่มีตัวอักษรเริ่มต้นด้วย "P"
+        query = session.createQuery(
+                "SELECT MAX(c.id) FROM Course c " +
+                        "WHERE c.id LIKE 'N%'",
+                String.class
+        );
+    }
+    String maxString = query.getSingleResult();
+
+    if (maxString != null && maxString.length() > 1) {
+        // ตัดอักษรแรกออกและแปลงเป็นตัวเลข
+        int maxNumericId = Integer.parseInt(maxString.substring(1));
+        return maxNumericId;
+    } else {
+        // หากไม่สามารถดึงค่าได้หรือค่ามีความยาวน้อยกว่า 2 จะคืนค่าเริ่มต้นหรือค่าที่เหมาะสม
+        return 0; // เปลี่ยนตามความเหมาะสม
+    }
+}
+    @Override
+    public int getImgCourseMaxId(String course_type) {
+        Session session = sessionFactory.getCurrentSession();
+        Query<String> query;
+
+        String imagePrefix = course_type.equals("หลักสูตรอบรมระยะสั้น") ? "C_IMG" : "N_IMG";
+
+        query = session.createQuery(
+                "SELECT MAX(c.img) FROM Course c " +
+                        "WHERE c.img LIKE :imagePrefix",
+                String.class
+        );
+        query.setParameter("imagePrefix", imagePrefix + "%");
+
+        String maxString = query.getSingleResult();
+
+        if (maxString != null && maxString.length() > imagePrefix.length()) {
+            // ตัดส่วนของ "C_IMG" หรือ "N_IMG" และส่วนของไฟล์ภาพออก
+            int dotIndex = maxString.lastIndexOf(".");
+            if (dotIndex > 0) {
+                maxString = maxString.substring(0, dotIndex); // ตัดส่วนนามสกุลออก
+            }
+            maxString = maxString.replace("C_IMG", "").replace("N_IMG", "");
+
+            int maxNumericId = Integer.parseInt(maxString);
+            return maxNumericId;
+        } else {
+            return 0;
+        }
+    }
+
+
+
+
 }
Index: target/sci_mju_lifelonglearning/WEB-INF/view/admin/note_not_pass_detail.jsp
===================================================================
diff --git a/target/sci_mju_lifelonglearning/WEB-INF/view/admin/note_not_pass_detail.jsp b/target/sci_mju_lifelonglearning/WEB-INF/view/admin/note_not_pass_detail.jsp
deleted file mode 100644
--- a/target/sci_mju_lifelonglearning/WEB-INF/view/admin/note_not_pass_detail.jsp	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ /dev/null	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
@@ -1,44 +0,0 @@
-<%--
-  Created by IntelliJ IDEA.
-  User: DELL
-  Date: 5/30/2023
-  Time: 1:26 PM
-  To change this template use File | Settings | File Templates.
---%>
-<%@ page contentType="text/html;charset=UTF-8" language="java" %>
-<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>
-<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
-<!DOCTYPEhtml>
-<html>
-<head>
-  <title>ยกเลิกหลักสูตร</title>
-  <jsp:include page="/WEB-INF/view/layouts/detail-all-style.jsp"/>
-</head>
-<body>
-<jsp:include page="/WEB-INF/view/layouts/nav.jsp"/>
-<div id="header">
-  <h3>หมายเหตุ * ทำไมถึงยกเลิกหลักสูตรนี้</h3>
-  <h1>${ROC_detail.course.name}</h1>
-  <h4>${ROC_detail.course.major.name}</h4>
-  <label>อาจารย์ที่ร้องขอ : ${ROC_detail.lecturer.firstName} ${ROC_detail.lecturer.lastName}</label>
-</div>
-<div class="container">
-  <div id="container">
-    <form action="${pageContext.request.contextPath}/course/note_cancel_request_open_course/${ROC_detail.request_id}/cancel" method="POST">
-      <div id="customPopup" class="custom-popup">
-        <div class="popup-content">
-          <h2>กรุณากรอกเหตุผลในการยกเลิกคำร้องขอ</h2>
-          <textarea id="cancelReason" name="cancelReason" rows="4" cols="50"></textarea>
-          <br>
-          <input type="button" value="ยกเลิก"
-                 onclick="window.location.href='${pageContext.request.contextPath}/course/view_request_open_course/${ROC_detail.request_id}'; return false;"
-                 class="cancel-button"/>
-          <input type="submit" value="ยืนยัน">
-        </div>
-      </div>
-    </form>
-  </div>
-</div>
-<jsp:include page="/WEB-INF/view/layouts/footer.jsp"/>
-</body>
-</html>
Index: src/main/java/lifelong/controller/ActivityController.java
===================================================================
diff --git a/src/main/java/lifelong/controller/ActivityController.java b/src/main/java/lifelong/controller/ActivityController.java
deleted file mode 100644
--- a/src/main/java/lifelong/controller/ActivityController.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ /dev/null	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
@@ -1,40 +0,0 @@
-package lifelong.controller;
-
-import lifelong.model.*;
-import lifelong.service.ActivityService;
-import lifelong.service.CourseService;
-import lifelong.service.LecturerService;
-import lifelong.service.RequestOpCourseService;
-import org.hibernate.Session;
-import org.hibernate.SessionFactory;
-import org.springframework.beans.factory.annotation.Autowired;
-import org.springframework.stereotype.Controller;
-import org.springframework.transaction.annotation.Transactional;
-import org.springframework.ui.Model;
-import org.springframework.web.bind.annotation.*;
-
-import javax.validation.Valid;
-import java.text.ParseException;
-import java.text.SimpleDateFormat;
-import java.util.Date;
-import java.util.Map;
-
-@Controller
-@RequestMapping("/activity")
-public class ActivityController {
-    @Autowired
-    private ActivityService activityService;
-    @Autowired
-    private CourseService courseService;
-    @Autowired
-    private RequestOpCourseService requestOpCourseService;
-    @Autowired
-    private LecturerService lecturerService;
-    @Autowired
-    private SessionFactory sessionFactory;
-    private String title = "ข่าวสาร";
-
-
-
-
-}
Index: src/main/java/utils/ImgPath.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package utils;\r\n\r\npublic class ImgPath {\r\n\r\n    public static final String pathImg = \"C:/Users/asus/Desktop/science_mju_lifelonglearning/src/main/webapp/assets/img\";\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/utils/ImgPath.java b/src/main/java/utils/ImgPath.java
--- a/src/main/java/utils/ImgPath.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/java/utils/ImgPath.java	(date 1692519323585)
@@ -2,6 +2,6 @@
 
 public class ImgPath {
 
-    public static final String pathImg = "C:/Users/asus/Desktop/science_mju_lifelonglearning/src/main/webapp/assets/img";
+    public static final String pathImg = "D:/Project-Final-2023/Final/science_mju_lifelonglearning/src/main/webapp/assets/img";
 
 }
Index: src/main/webapp/WEB-INF/view/admin/addCourse.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%--\r\n  Created by IntelliJ IDEA.\r\n  User: DELL\r\n  Date: 5/30/2023\r\n  Time: 1:26 PM\r\n  To change this template use File | Settings | File Templates.\r\n--%>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\r\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\r\n<!DOCTYPEhtml>\r\n<html>\r\n<head>\r\n    <title>${title}</title>\r\n    <jsp:include page=\"/WEB-INF/view/layouts/detail-all-style.jsp\"/>\r\n</head>\r\n<body>\r\n<jsp:include page=\"/WEB-INF/view/layouts/nav.jsp\"/>\r\n<div id=\"header\">\r\n    <h1>${title}</h1>\r\n</div>\r\n<div class=\"container\">\r\n    <div id=\"container\">\r\n        <i>กรอกข้อมูลในฟอร์ม. เครื.องหมายดอกจัน(*) หมายถึงห้ามว่าง</i>\r\n        <br><br>\r\n        <form action=\"${pageContext.request.contextPath}/course/admin/save\" method=\"POST\">\r\n            <table>\r\n                <colgroup>\r\n                    <col style=\"width: 160px;\">\r\n                    <col style=\"width: auto;\">\r\n                </colgroup>\r\n                <tbody>\r\n                <tr>\r\n                    <td><label>รหัสหลักสูตร:</label></td>\r\n                    <td><input name=\"course_id\" type=\"text\" id=\"course_id\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ชื่อหลักสูตร:</label></td>\r\n                    <td><input name=\"course_name\" type=\"text\" id=\"course_name\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ชื่อเกีตรติบัตร:</label></td>\r\n                    <td><input name=\"certificateName\" type=\"text\" id=\"certificateName\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>รูปหลักสูตร:</label></td>\r\n                    <td><input name=\"course_img\" type=\"text\" id=\"course_img\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>หลักการและเหตุผล:</label></td>\r\n                    <td><textarea name=\"course_principle\" id=\"course_principle\"></textarea></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>วัตถุประสงค์:</label></td>\r\n                    <td><textarea name=\"course_object\" id=\"course_object\"></textarea></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ระยะเวลาในการเรียน:</label></td>\r\n                    <td><input name=\"course_totalHours\" type=\"number\" id=\"course_totalHours\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>เป้าหมายกลุ่มอาชีพ:</label></td>\r\n                    <td><input name=\"course_targetOccupation\" type=\"text\" id=\"course_targetOccupation\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ค่าธรรมเนียม:</label></td>\r\n                    <td><input name=\"course_fee\" type=\"text\" id=\"course_fee\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ไฟล์หลักสูตร:</label></td>\r\n                    <td><input name=\"course_file\" type=\"text\" id=\"course_file\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>สถานะหลักสูตร:</label></td>\r\n                    <td>\r\n                        <select name=\"course_status\" id=\"course_status\">\r\n                            <option value=\"ยังไม่เปิดสอน\" label=\"ยังไม่เปิดสอน\"></option>\r\n                            <option value=\"เปิดสอน\" label=\"เปิดสอน\"></option>\r\n                        </select>\r\n                    </td>\r\n\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ลิ้งค์หลักสูตร:</label></td>\r\n                    <td><input name=\"course_linkMooc\" type=\"text\" id=\"course_linkMooc\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ประเภท:</label></td>\r\n                    <td>\r\n                        <select name=\"course_type\" id=\"course_type\">\r\n                            <option value=\"\" label=\"--กรุณาเลือกหลักสูตร--\"></option>\r\n                            <option value=\"หลักสูตรอบรมระยะสั้น\" label=\"หลักสูตรอบรมระยะสั้น\"></option>\r\n                            <option value=\"Non-Degree\" label=\"Non-Degree\"></option>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>สาขา:</label></td>\r\n                    <td>\r\n                        <select name=\"major_id\" id=\"major_id\">\r\n                            <option value=\"\" label=\"--กรุณาเลือกหลักสูตร--\"></option>\r\n                            <c:forEach items=\"${majors}\" var=\"major\">\r\n                                <option value=\"${major.major_id}\">${major.name}</option>\r\n                            </c:forEach>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label></label></td>\r\n                    <td><input type=\"submit\" value=\"บันทึก\" class=\"save\"/>\r\n<%--                        <input type=\"button\" value=\"ยกเลิก\"onclick=\"window.location.href='list'; return false;\"class=\"cancel-button\"/>--%>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    </div>\r\n</div>\r\n<jsp:include page=\"/WEB-INF/view/layouts/footer.jsp\"/>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/webapp/WEB-INF/view/admin/addCourse.jsp b/src/main/webapp/WEB-INF/view/admin/addCourse.jsp
--- a/src/main/webapp/WEB-INF/view/admin/addCourse.jsp	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/webapp/WEB-INF/view/admin/addCourse.jsp	(date 1692518321830)
@@ -23,7 +23,7 @@
     <div id="container">
         <i>กรอกข้อมูลในฟอร์ม. เครื.องหมายดอกจัน(*) หมายถึงห้ามว่าง</i>
         <br><br>
-        <form action="${pageContext.request.contextPath}/course/admin/save" method="POST">
+        <form action="${pageContext.request.contextPath}/course/admin/save" method="POST" enctype="multipart/form-data">
             <table>
                 <colgroup>
                     <col style="width: 160px;">
@@ -31,20 +31,26 @@
                 </colgroup>
                 <tbody>
                 <tr>
-                    <td><label>รหัสหลักสูตร:</label></td>
-                    <td><input name="course_id" type="text" id="course_id"/></td>
+                    <td><label>ประเภท:</label></td>
+                    <td>
+                        <select name="course_type" id="course_type">
+                            <option value="" label="--กรุณาเลือกหลักสูตร--"></option>
+                            <option value="หลักสูตรอบรมระยะสั้น" label="หลักสูตรอบรมระยะสั้น"></option>
+                            <option value="Non-Degree" label="Non-Degree"></option>
+                        </select>
+                    </td>
                 </tr>
                 <tr>
                     <td><label>ชื่อหลักสูตร:</label></td>
                     <td><input name="course_name" type="text" id="course_name"/></td>
                 </tr>
                 <tr>
-                    <td><label>ชื่อเกีตรติบัตร:</label></td>
+                    <td><label>ชื่อเกียรติบัตร:</label></td>
                     <td><input name="certificateName" type="text" id="certificateName"/></td>
                 </tr>
                 <tr>
                     <td><label>รูปหลักสูตร:</label></td>
-                    <td><input name="course_img" type="text" id="course_img"/></td>
+                    <td><input name="course_img" type="file" id="course_img"/></td>
                 </tr>
                 <tr>
                     <td><label>หลักการและเหตุผล:</label></td>
@@ -69,30 +75,10 @@
                 <tr>
                     <td><label>ไฟล์หลักสูตร:</label></td>
                     <td><input name="course_file" type="text" id="course_file"/></td>
-                </tr>
-                <tr>
-                    <td><label>สถานะหลักสูตร:</label></td>
-                    <td>
-                        <select name="course_status" id="course_status">
-                            <option value="ยังไม่เปิดสอน" label="ยังไม่เปิดสอน"></option>
-                            <option value="เปิดสอน" label="เปิดสอน"></option>
-                        </select>
-                    </td>
-
                 </tr>
                 <tr>
                     <td><label>ลิ้งค์หลักสูตร:</label></td>
                     <td><input name="course_linkMooc" type="text" id="course_linkMooc"/></td>
-                </tr>
-                <tr>
-                    <td><label>ประเภท:</label></td>
-                    <td>
-                        <select name="course_type" id="course_type">
-                            <option value="" label="--กรุณาเลือกหลักสูตร--"></option>
-                            <option value="หลักสูตรอบรมระยะสั้น" label="หลักสูตรอบรมระยะสั้น"></option>
-                            <option value="Non-Degree" label="Non-Degree"></option>
-                        </select>
-                    </td>
                 </tr>
                 <tr>
                     <td><label>สาขา:</label></td>
Index: src/main/java/lifelong/model/Course.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.model;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Pattern;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table(name = \"course\")\r\npublic class Course {\r\n\r\n    @Id\r\n//    @GeneratedValue(generator = \"increment\")\r\n//    @GenericGenerator(name = \"increment\", strategy = \"increment\")\r\n    @Column(length = 10)\r\n    private String course_id;\r\n\r\n    @Column(name = \"course_name\",nullable = false)\r\n    private String name;\r\n\r\n    @Column(name = \"course_certificateName\",nullable = false,length = 200)\r\n    private String certificateName;\r\n\r\n    @Column(name = \"course_img\",nullable = false,length = 200)\r\n    private String img;\r\n\r\n    @Column(name = \"course_principle\")\r\n    private String principle;\r\n\r\n    @Column(name = \"course_object\",nullable = false)\r\n    private String object;\r\n\r\n    @Column(nullable = false,length = 5)\r\n    private int totalHours;\r\n\r\n    @Column(name = \"course_targetOccupation\")\r\n    private String targetOccupation;\r\n\r\n    @Column(name = \"course_fee\",nullable = false,length = 10)\r\n    private double fee;\r\n\r\n    @Column(name = \"course_file\",nullable = false,length = 200)\r\n    private String file;\r\n\r\n    @Column(name = \"course_status\",nullable = false,length = 100)\r\n    private String status;\r\n\r\n    @Column(name = \"course_linkMooc\",nullable = false)\r\n    private String linkMooc;\r\n\r\n    @Column(name = \"course_type\",nullable = false,length = 50)\r\n    private String course_type;\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = \"major_id\",nullable = false)\r\n    private Major major;\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(name = \"teaching_schedule\",\r\n            joinColumns = { @JoinColumn(name = \"course_id\") },\r\n            inverseJoinColumns = { @JoinColumn(name = \"lec_username\",nullable = false) })\r\n    private Set<Lecturer> lecturers;\r\n\r\n    public Course() {\r\n    }\r\n\r\n    public Course(String course_id, String name, String certificateName, String img, String principle, String object, int totalHours, String targetOccupation, double fee, String file, String status, String linkMooc, String course_type, Major major) {\r\n        this.course_id = course_id;\r\n        this.name = name;\r\n        this.certificateName = certificateName;\r\n        this.img = img;\r\n        this.principle = principle;\r\n        this.object = object;\r\n        this.totalHours = totalHours;\r\n        this.targetOccupation = targetOccupation;\r\n        this.fee = fee;\r\n        this.file = file;\r\n        this.status = status;\r\n        this.linkMooc = linkMooc;\r\n        this.course_type = course_type;\r\n        this.major = major;\r\n    }\r\n\r\n    public String getCourse_id() {\r\n        return course_id;\r\n    }\r\n\r\n    public void setCourse_id(String course_id) {\r\n        this.course_id = course_id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getCertificateName() {\r\n        return certificateName;\r\n    }\r\n\r\n    public void setCertificateName(String certificateName) {\r\n        this.certificateName = certificateName;\r\n    }\r\n\r\n    public String getImg() {\r\n        return img;\r\n    }\r\n\r\n    public void setImg(String img) {\r\n        this.img = img;\r\n    }\r\n\r\n    public String getPrinciple() {\r\n        return principle;\r\n    }\r\n\r\n    public void setPrinciple(String principle) {\r\n        this.principle = principle;\r\n    }\r\n\r\n    public String getObject() {\r\n        return object;\r\n    }\r\n\r\n    public void setObject(String object) {\r\n        this.object = object;\r\n    }\r\n\r\n    public int getTotalHours() {\r\n        return totalHours;\r\n    }\r\n\r\n    public void setTotalHours(int totalHours) {\r\n        this.totalHours = totalHours;\r\n    }\r\n\r\n    public String getTargetOccupation() {\r\n        return targetOccupation;\r\n    }\r\n\r\n    public void setTargetOccupation(String targetOccupation) {\r\n        this.targetOccupation = targetOccupation;\r\n    }\r\n\r\n    public double getFee() {\r\n        return fee;\r\n    }\r\n\r\n    public void setFee(double fee) {\r\n        this.fee = fee;\r\n    }\r\n\r\n    public String getFile() {\r\n        return file;\r\n    }\r\n\r\n    public void setFile(String file) {\r\n        this.file = file;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getLinkMooc() {\r\n        return linkMooc;\r\n    }\r\n\r\n    public void setLinkMooc(String linkMooc) {\r\n        this.linkMooc = linkMooc;\r\n    }\r\n\r\n    public Major getMajor() {\r\n        return major;\r\n    }\r\n\r\n    public void setMajor(Major major) {\r\n        this.major = major;\r\n    }\r\n\r\n    public String getCourse_type() {\r\n        return course_type;\r\n    }\r\n\r\n    public void setCourse_type(String course_type) {\r\n        this.course_type = course_type;\r\n    }\r\n\r\n    public Set<Lecturer> getLecturers() {\r\n        return lecturers;\r\n    }\r\n\r\n    public void setLecturers(Set<Lecturer> lecturers) {\r\n        this.lecturers = lecturers;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/model/Course.java b/src/main/java/lifelong/model/Course.java
--- a/src/main/java/lifelong/model/Course.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/java/lifelong/model/Course.java	(date 1692515520928)
@@ -66,8 +66,7 @@
     public Course() {
     }
 
-    public Course(String course_id, String name, String certificateName, String img, String principle, String object, int totalHours, String targetOccupation, double fee, String file, String status, String linkMooc, String course_type, Major major) {
-        this.course_id = course_id;
+    public Course(String name, String certificateName, String img, String principle, String object, int totalHours, String targetOccupation, double fee, String file, String status, String linkMooc, String course_type, Major major) {
         this.name = name;
         this.certificateName = certificateName;
         this.img = img;
Index: target/sci_mju_lifelonglearning/WEB-INF/view/admin/addCourse.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%--\r\n  Created by IntelliJ IDEA.\r\n  User: DELL\r\n  Date: 5/30/2023\r\n  Time: 1:26 PM\r\n  To change this template use File | Settings | File Templates.\r\n--%>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\r\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\r\n<!DOCTYPEhtml>\r\n<html>\r\n<head>\r\n    <title>${title}</title>\r\n    <jsp:include page=\"/WEB-INF/view/layouts/detail-all-style.jsp\"/>\r\n</head>\r\n<body>\r\n<jsp:include page=\"/WEB-INF/view/layouts/nav.jsp\"/>\r\n<div id=\"header\">\r\n    <h1>${title}</h1>\r\n</div>\r\n<div class=\"container\">\r\n    <div id=\"container\">\r\n        <i>กรอกข้อมูลในฟอร์ม. เครื.องหมายดอกจัน(*) หมายถึงห้ามว่าง</i>\r\n        <br><br>\r\n        <form action=\"${pageContext.request.contextPath}/course/admin/save\" method=\"POST\">\r\n            <table>\r\n                <colgroup>\r\n                    <col style=\"width: 160px;\">\r\n                    <col style=\"width: auto;\">\r\n                </colgroup>\r\n                <tbody>\r\n                <tr>\r\n                    <td><label>รหัสหลักสูตร:</label></td>\r\n                    <td><input name=\"course_id\" type=\"text\" id=\"course_id\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ชื่อหลักสูตร:</label></td>\r\n                    <td><input name=\"course_name\" type=\"text\" id=\"course_name\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ชื่อเกีตรติบัตร:</label></td>\r\n                    <td><input name=\"certificateName\" type=\"text\" id=\"certificateName\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>รูปหลักสูตร:</label></td>\r\n                    <td><input name=\"course_img\" type=\"text\" id=\"course_img\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>หลักการและเหตุผล:</label></td>\r\n                    <td><textarea name=\"course_principle\" id=\"course_principle\"></textarea></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>วัตถุประสงค์:</label></td>\r\n                    <td><textarea name=\"course_object\" id=\"course_object\"></textarea></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ระยะเวลาในการเรียน:</label></td>\r\n                    <td><input name=\"course_totalHours\" type=\"number\" id=\"course_totalHours\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>เป้าหมายกลุ่มอาชีพ:</label></td>\r\n                    <td><input name=\"course_targetOccupation\" type=\"text\" id=\"course_targetOccupation\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ค่าธรรมเนียม:</label></td>\r\n                    <td><input name=\"course_fee\" type=\"text\" id=\"course_fee\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ไฟล์หลักสูตร:</label></td>\r\n                    <td><input name=\"course_file\" type=\"text\" id=\"course_file\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>สถานะหลักสูตร:</label></td>\r\n                    <td>\r\n                        <select name=\"course_status\" id=\"course_status\">\r\n                            <option value=\"ยังไม่เปิดสอน\" label=\"ยังไม่เปิดสอน\"></option>\r\n                            <option value=\"เปิดสอน\" label=\"เปิดสอน\"></option>\r\n                        </select>\r\n                    </td>\r\n\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ลิ้งค์หลักสูตร:</label></td>\r\n                    <td><input name=\"course_linkMooc\" type=\"text\" id=\"course_linkMooc\"/></td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>ประเภท:</label></td>\r\n                    <td>\r\n                        <select name=\"course_type\" id=\"course_type\">\r\n                            <option value=\"\" label=\"--กรุณาเลือกหลักสูตร--\"></option>\r\n                            <option value=\"หลักสูตรอบรมระยะสั้น\" label=\"หลักสูตรอบรมระยะสั้น\"></option>\r\n                            <option value=\"Non-Degree\" label=\"Non-Degree\"></option>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label>สาขา:</label></td>\r\n                    <td>\r\n                        <select name=\"major_id\" id=\"major_id\">\r\n                            <option value=\"\" label=\"--กรุณาเลือกหลักสูตร--\"></option>\r\n                            <c:forEach items=\"${majors}\" var=\"major\">\r\n                                <option value=\"${major.major_id}\">${major.name}</option>\r\n                            </c:forEach>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td><label></label></td>\r\n                    <td><input type=\"submit\" value=\"บันทึก\" class=\"save\"/>\r\n<%--                        <input type=\"button\" value=\"ยกเลิก\"onclick=\"window.location.href='list'; return false;\"class=\"cancel-button\"/>--%>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    </div>\r\n</div>\r\n<jsp:include page=\"/WEB-INF/view/layouts/footer.jsp\"/>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/sci_mju_lifelonglearning/WEB-INF/view/admin/addCourse.jsp b/target/sci_mju_lifelonglearning/WEB-INF/view/admin/addCourse.jsp
--- a/target/sci_mju_lifelonglearning/WEB-INF/view/admin/addCourse.jsp	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/target/sci_mju_lifelonglearning/WEB-INF/view/admin/addCourse.jsp	(date 1692518321830)
@@ -23,7 +23,7 @@
     <div id="container">
         <i>กรอกข้อมูลในฟอร์ม. เครื.องหมายดอกจัน(*) หมายถึงห้ามว่าง</i>
         <br><br>
-        <form action="${pageContext.request.contextPath}/course/admin/save" method="POST">
+        <form action="${pageContext.request.contextPath}/course/admin/save" method="POST" enctype="multipart/form-data">
             <table>
                 <colgroup>
                     <col style="width: 160px;">
@@ -31,20 +31,26 @@
                 </colgroup>
                 <tbody>
                 <tr>
-                    <td><label>รหัสหลักสูตร:</label></td>
-                    <td><input name="course_id" type="text" id="course_id"/></td>
+                    <td><label>ประเภท:</label></td>
+                    <td>
+                        <select name="course_type" id="course_type">
+                            <option value="" label="--กรุณาเลือกหลักสูตร--"></option>
+                            <option value="หลักสูตรอบรมระยะสั้น" label="หลักสูตรอบรมระยะสั้น"></option>
+                            <option value="Non-Degree" label="Non-Degree"></option>
+                        </select>
+                    </td>
                 </tr>
                 <tr>
                     <td><label>ชื่อหลักสูตร:</label></td>
                     <td><input name="course_name" type="text" id="course_name"/></td>
                 </tr>
                 <tr>
-                    <td><label>ชื่อเกีตรติบัตร:</label></td>
+                    <td><label>ชื่อเกียรติบัตร:</label></td>
                     <td><input name="certificateName" type="text" id="certificateName"/></td>
                 </tr>
                 <tr>
                     <td><label>รูปหลักสูตร:</label></td>
-                    <td><input name="course_img" type="text" id="course_img"/></td>
+                    <td><input name="course_img" type="file" id="course_img"/></td>
                 </tr>
                 <tr>
                     <td><label>หลักการและเหตุผล:</label></td>
@@ -69,30 +75,10 @@
                 <tr>
                     <td><label>ไฟล์หลักสูตร:</label></td>
                     <td><input name="course_file" type="text" id="course_file"/></td>
-                </tr>
-                <tr>
-                    <td><label>สถานะหลักสูตร:</label></td>
-                    <td>
-                        <select name="course_status" id="course_status">
-                            <option value="ยังไม่เปิดสอน" label="ยังไม่เปิดสอน"></option>
-                            <option value="เปิดสอน" label="เปิดสอน"></option>
-                        </select>
-                    </td>
-
                 </tr>
                 <tr>
                     <td><label>ลิ้งค์หลักสูตร:</label></td>
                     <td><input name="course_linkMooc" type="text" id="course_linkMooc"/></td>
-                </tr>
-                <tr>
-                    <td><label>ประเภท:</label></td>
-                    <td>
-                        <select name="course_type" id="course_type">
-                            <option value="" label="--กรุณาเลือกหลักสูตร--"></option>
-                            <option value="หลักสูตรอบรมระยะสั้น" label="หลักสูตรอบรมระยะสั้น"></option>
-                            <option value="Non-Degree" label="Non-Degree"></option>
-                        </select>
-                    </td>
                 </tr>
                 <tr>
                     <td><label>สาขา:</label></td>
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ArtifactsWorkspaceSettings\">\r\n    <artifacts-to-build>\r\n      <artifact name=\"sci_mju_lifelonglearning:war exploded\" />\r\n    </artifacts-to-build>\r\n  </component>\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"94ee3265-17d3-4173-99b1-845ba8ed6d22\" name=\"Changes\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/pom.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/pom.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/lifelong/controller/CourseController.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/lifelong/controller/CourseController.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/lifelong/controller/LecturerController.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/lifelong/controller/LecturerController.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/lifelong/model/RequestOpenCourse.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/lifelong/model/RequestOpenCourse.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/view/admin/note_not_pass_detail.jsp\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/lifelong/controller/CourseController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/lifelong/controller/CourseController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/lifelong/controller/LecturerController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/lifelong/controller/LecturerController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/META-INF/MANIFEST.MF\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/META-INF/MANIFEST.MF\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/CourseController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/CourseController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/LecturerController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/LecturerController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Interface\" />\r\n        <option value=\"Jsp File\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"master\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"JpbToolWindowState\">\r\n    <option name=\"isToolWindowVisible\" value=\"false\" />\r\n  </component>\r\n  <component name=\"LogFilters\">\r\n    <option name=\"FILTER_ERRORS\" value=\"false\" />\r\n    <option name=\"FILTER_WARNINGS\" value=\"false\" />\r\n    <option name=\"FILTER_INFO\" value=\"true\" />\r\n    <option name=\"FILTER_DEBUG\" value=\"true\" />\r\n    <option name=\"CUSTOM_FILTER\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"MavenImportPreferences\">\r\n    <option name=\"generalSettings\">\r\n      <MavenGeneralSettings>\r\n        <option name=\"useMavenConfig\" value=\"true\" />\r\n      </MavenGeneralSettings>\r\n    </option>\r\n    <option name=\"importingSettings\">\r\n      <MavenImportingSettings>\r\n        <option name=\"workspaceImportEnabled\" value=\"true\" />\r\n      </MavenImportingSettings>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"2U3ZcyraVQQPxUiwLI5iE2PXuvK\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"flattenPackages\" value=\"true\" />\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n    <option name=\"showMembers\" value=\"true\" />\r\n    <option name=\"showVisibilityIcons\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Users/asus/Desktop/science_mju_lifelonglearning&quot;,\r\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;copyright&quot;,\r\n    &quot;spring.configuration.checksum&quot;: &quot;c0faf4302789075769c5234e0e8bc511&quot;,\r\n    &quot;two.files.diff.last.used.file&quot;: &quot;D:/Project-Final-2023/Final/science_mju_lifelonglearning/src/main/resources/application.properties&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\Project-Final-2023\\Final\\science_mju_lifelonglearning\\src\\main\\webapp\" />\r\n      <recent name=\"D:\\Project-Final-2023\\Final\\science_mju_lifelonglearning\\src\\main\\webapp\\static\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Tomcat 9.0.64\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 9.0.64\" ALTERNATIVE_JRE_ENABLED=\"false\" nameIsGenerated=\"true\">\r\n      <option name=\"UPDATING_POLICY\" value=\"restart-server\" />\r\n      <deployment>\r\n        <artifact name=\"sci_mju_lifelonglearning:war exploded\">\r\n          <settings>\r\n            <option name=\"CONTEXT_PATH\" value=\"/sci_mju_lifelonglearning_war_exploded\" />\r\n          </settings>\r\n        </artifact>\r\n      </deployment>\r\n      <server-settings>\r\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"533e9454-7c84-4a78-87e7-8f99d48f7300\" />\r\n        <option name=\"HTTP_PORT\" value=\"8081\" />\r\n      </server-settings>\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\r\n      <predefined_log_file id=\"Tomcat Manager\" />\r\n      <predefined_log_file id=\"Tomcat Host Manager\" />\r\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\r\n      <RunnerSettings RunnerId=\"Debug\">\r\n        <option name=\"DEBUG_PORT\" value=\"62605\" />\r\n      </RunnerSettings>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Profile\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n        <option name=\"BuildArtifacts\" enabled=\"true\">\r\n          <artifact name=\"sci_mju_lifelonglearning:war exploded\" />\r\n        </option>\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"94ee3265-17d3-4173-99b1-845ba8ed6d22\" name=\"Changes\" comment=\"\" />\r\n      <created>1692170311558</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1692170311558</updated>\r\n      <workItem from=\"1692170318690\" duration=\"19100000\" />\r\n      <workItem from=\"1692279369411\" duration=\"8816000\" />\r\n      <workItem from=\"1692338966998\" duration=\"5167000\" />\r\n      <workItem from=\"1692346228216\" duration=\"6419000\" />\r\n      <workItem from=\"1692352775593\" duration=\"5812000\" />\r\n      <workItem from=\"1692359427635\" duration=\"343000\" />\r\n      <workItem from=\"1692362018220\" duration=\"250000\" />\r\n      <workItem from=\"1692362363904\" duration=\"100000\" />\r\n      <workItem from=\"1692369558995\" duration=\"3537000\" />\r\n      <workItem from=\"1692373165768\" duration=\"1088000\" />\r\n      <workItem from=\"1692422703349\" duration=\"2428000\" />\r\n      <workItem from=\"1692513472500\" duration=\"484000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"commit\">\r\n      <created>1692351063976</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692351063976</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"commit\">\r\n      <created>1692352885972</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692352885972</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"commit\">\r\n      <created>1692354769685</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692354769685</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"commit\">\r\n      <created>1692355687062</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692355687062</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"commit\">\r\n      <created>1692359263515</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692359263515</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"commit\">\r\n      <created>1692359512180</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1692359512180</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"7\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"commit\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"commit\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/.idea/workspace.xml	(date 1692524929794)
@@ -10,21 +10,55 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="94ee3265-17d3-4173-99b1-845ba8ed6d22" name="Changes" comment="">
+      <change afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0001.png" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/pom.xml" beforeDir="false" afterPath="$PROJECT_DIR$/pom.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/controller/ActivityController.java" beforeDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/controller/CourseController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/controller/CourseController.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/controller/LecturerController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/controller/LecturerController.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/model/RequestOpenCourse.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/model/RequestOpenCourse.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/admin/note_not_pass_detail.jsp" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_member_approve_course.jsp" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/lecturer/list_request_open_course.jsp" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/dao/CourseDao.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/dao/CourseDao.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/dao/CourseDaoImpl.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/dao/CourseDaoImpl.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/model/Course.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/model/Course.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/service/CourseService.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/service/CourseService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lifelong/service/CourseServiceImpl.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lifelong/service/CourseServiceImpl.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/utils/ImgPath.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/utils/ImgPath.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/admin/addCourse.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/WEB-INF/view/admin/addCourse.jsp" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C001.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C_IMG0001.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C002.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C_IMG0002.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C003.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0002.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C004.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0003.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C005.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0004.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C006.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0005.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C007.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0006.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C008.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0007.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/C009.png" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/assets/img/course_img/N_IMG0008.png" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/controller/ActivityController.class" beforeDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/lifelong/controller/CourseController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/controller/CourseController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/controller/LecturerController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/controller/LecturerController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/META-INF/MANIFEST.MF" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/META-INF/MANIFEST.MF" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/dao/CourseDao.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/dao/CourseDao.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/dao/CourseDaoImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/dao/CourseDaoImpl.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/model/Course.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/model/Course.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/model/RequestOpenCourse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/model/RequestOpenCourse.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/service/CourseService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/service/CourseService.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lifelong/service/CourseServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lifelong/service/CourseServiceImpl.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/utils/ImgPath.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/utils/ImgPath.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/ActivityController.class" beforeDir="false" />
       <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/CourseController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/CourseController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/LecturerController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/controller/LecturerController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_member_approve_course.jsp" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/lecturer/list_request_open_course.jsp" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/dao/CourseDao.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/dao/CourseDao.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/dao/CourseDaoImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/dao/CourseDaoImpl.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/model/Course.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/model/Course.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/model/RequestOpenCourse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/model/RequestOpenCourse.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/service/CourseService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/service/CourseService.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/service/CourseServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/lifelong/service/CourseServiceImpl.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/utils/ImgPath.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/classes/utils/ImgPath.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/admin/addCourse.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/admin/addCourse.jsp" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/WEB-INF/view/admin/note_not_pass_detail.jsp" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C001.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C002.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C003.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C004.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C005.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C006.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C007.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C008.png" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/sci_mju_lifelonglearning/assets/img/course_img/C009.png" beforeDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -81,24 +115,27 @@
     <option name="showMembers" value="true" />
     <option name="showVisibilityIcons" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,
-    &quot;last_opened_file_path&quot;: &quot;C:/Users/asus/Desktop/science_mju_lifelonglearning&quot;,
-    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
-    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
-    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
-    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
-    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;copyright&quot;,
-    &quot;spring.configuration.checksum&quot;: &quot;c0faf4302789075769c5234e0e8bc511&quot;,
-    &quot;two.files.diff.last.used.file&quot;: &quot;D:/Project-Final-2023/Final/science_mju_lifelonglearning/src/main/resources/application.properties&quot;,
-    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "RunOnceActivity.OpenProjectViewOnStart": "true",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "WebServerToolWindowFactoryState": "false",
+    "last_opened_file_path": "D:/Project-Final-2023/Final/science_mju_lifelonglearning/src/main/webapp/assets/img/course_img",
+    "node.js.detected.package.eslint": "true",
+    "node.js.detected.package.tslint": "true",
+    "node.js.selected.package.eslint": "(autodetect)",
+    "node.js.selected.package.tslint": "(autodetect)",
+    "nodejs_package_manager_path": "npm",
+    "settings.editor.selected.configurable": "copyright",
+    "spring.configuration.checksum": "c0faf4302789075769c5234e0e8bc511",
+    "two.files.diff.last.used.file": "D:/Project-Final-2023/Final/science_mju_lifelonglearning/src/main/resources/application.properties",
+    "vue.rearranger.settings.migration": "true"
   }
-}</component>
+}]]></component>
   <component name="RecentsManager">
+    <key name="CopyFile.RECENT_KEYS">
+      <recent name="D:\Project-Final-2023\Final\science_mju_lifelonglearning\src\main\webapp\assets\img\course_img" />
+    </key>
     <key name="MoveFile.RECENT_KEYS">
       <recent name="D:\Project-Final-2023\Final\science_mju_lifelonglearning\src\main\webapp" />
       <recent name="D:\Project-Final-2023\Final\science_mju_lifelonglearning\src\main\webapp\static" />
@@ -213,7 +250,8 @@
       <workItem from="1692369558995" duration="3537000" />
       <workItem from="1692373165768" duration="1088000" />
       <workItem from="1692422703349" duration="2428000" />
-      <workItem from="1692513472500" duration="484000" />
+      <workItem from="1692513472500" duration="1133000" />
+      <workItem from="1692515311559" duration="9568000" />
     </task>
     <task id="LOCAL-00001" summary="commit">
       <created>1692351063976</created>
@@ -257,7 +295,14 @@
       <option name="project" value="LOCAL" />
       <updated>1692359512180</updated>
     </task>
-    <option name="localTasksCounter" value="7" />
+    <task id="LOCAL-00007" summary="commit">
+      <created>1692513985380</created>
+      <option name="number" value="00007" />
+      <option name="presentableId" value="LOCAL-00007" />
+      <option name="project" value="LOCAL" />
+      <updated>1692513985381</updated>
+    </task>
+    <option name="localTasksCounter" value="8" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
Index: src/main/java/lifelong/dao/CourseDao.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.dao;\r\n\r\nimport lifelong.model.AddImg;\r\nimport lifelong.model.Course;\r\nimport lifelong.model.Major;\r\nimport lifelong.model.RequestOpenCourse;\r\n\r\nimport java.util.List;\r\n\r\n\r\npublic interface CourseDao {\r\n    List<Course> getCourses();\r\n\r\n    List<RequestOpenCourse> getListRequestOpCourse();\r\n    List<AddImg> getAddImg();\r\n    Course getCourseDetail(String id);\r\n\r\n    int getLatestFileCount();\r\n    Course getCourseById(String course_id);\r\n    String[] getCourseDetailObject(String id);\r\n    List<Course> getCoursesByName (String courseName);\r\n    void doAddCourse(Course course);\r\n    void doAddMajor(Major major);\r\n    void doAddImg(AddImg addImg);\r\n    Course updateCourse (Course course) ;\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/dao/CourseDao.java b/src/main/java/lifelong/dao/CourseDao.java
--- a/src/main/java/lifelong/dao/CourseDao.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/java/lifelong/dao/CourseDao.java	(date 1692519972078)
@@ -23,5 +23,8 @@
     void doAddMajor(Major major);
     void doAddImg(AddImg addImg);
     Course updateCourse (Course course) ;
+    int getCourseMaxId(String course_type);
+
+    int getImgCourseMaxId(String course_type);
 }
 
Index: src/main/java/lifelong/service/CourseService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lifelong.service;\r\n\r\nimport lifelong.model.*;\r\n\r\nimport java.util.List;\r\npublic interface CourseService {\r\n        List<Course> getCourses();\r\n\r\n        List<RequestOpenCourse> getListRequestOpCourse();\r\n        List<AddImg> getAddImg();\r\n        Course getCourseDetail(String courseId);\r\n        Course getCourseById(String course_id);\r\n\r\n        List<Course> getCoursesByName (String courseName);\r\n        String[] getCourseDetailObject(String courseId);\r\n        void doAddCourse(Course course);\r\n\r\n        void doAddImg(AddImg addImg);\r\n\r\n        public void doAddMajor(Major major);\r\n        void updateCourse(Course course);\r\n\r\n        int getLatestFileCount();\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lifelong/service/CourseService.java b/src/main/java/lifelong/service/CourseService.java
--- a/src/main/java/lifelong/service/CourseService.java	(revision 0852cd32cd9433175d8badad7dd9529b205e924e)
+++ b/src/main/java/lifelong/service/CourseService.java	(date 1692520546195)
@@ -21,4 +21,5 @@
         void updateCourse(Course course);
 
         int getLatestFileCount();
+        int getImgCourseMaxId(String course_type);
 }
